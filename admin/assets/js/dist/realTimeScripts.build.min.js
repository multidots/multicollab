!function(r){var n={};function i(t){var e;return(n[t]||(e=n[t]={i:t,l:!1,exports:{}},r[t].call(e.exports,e,e.exports,i),e.l=!0,e)).exports}i.m=r,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=151)}([function(t,e,r){"use strict";t.exports=r(66)},function(t,e,r){"use strict";r.d(e,"e",function(){return s}),r.d(e,"f",function(){return o}),r.d(e,"g",function(){return h}),r.d(e,"h",function(){return d}),r.d(e,"i",function(){return f}),r.d(e,"l",function(){return p}),r.d(e,"p",function(){return m}),r.d(e,"n",function(){return b}),r.d(e,"o",function(){return w}),r.d(e,"k",function(){return _}),r.d(e,"m",function(){return k}),r.d(e,"q",function(){return S}),r.d(e,"j",function(){return x}),r.d(e,"b",function(){return C}),r.d(e,"d",function(){return D}),r.d(e,"a",function(){return T}),r.d(e,"c",function(){return M});var a=r(5),c=r(100),l=r(4),n=r(19),u=r(12);class i{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const s=()=>new i,o=t=>{var e=s();return t(e),d(e)},h=e=>{let r=e.cpos;for(let t=0;t<e.bufs.length;t++)r+=e.bufs[t].length;return r};const d=e=>{var r=new Uint8Array(h(e));let n=0;for(let t=0;t<e.bufs.length;t++){var i=e.bufs[t];r.set(i,n),n+=i.length}return r.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),n),r},f=(t,e)=>{var r=t.cbuf.length;t.cpos===r&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(2*r),t.cpos=0),t.cbuf[t.cpos++]=e},g=(e,r,t)=>{let n=null;for(let t=0;t<e.bufs.length&&null===n;t++){var i=e.bufs[t];r<i.length?n=i:r-=i.length}(n=null===n?e.cbuf:n)[r]=t},p=f;g;const m=(t,e)=>{for(;e>l.m;)f(t,l.g|l.m&e),e=a.d(e/128);f(t,l.m&e)},b=(t,e)=>{var r=a.e(e);for(r&&(e=-e),f(t,(e>l.l?l.g:0)|(r?l.f:0)|l.l&e),e=a.d(e/64);0<e;)f(t,(e>l.m?l.g:0)|l.m&e),e=a.d(e/128)},v=new Uint8Array(3e4),y=v.length/3;const w=n.g&&n.g.encodeInto?(e,t)=>{if(t.length<y){var r=n.g.encodeInto(t,v).written||0;m(e,r);for(let t=0;t<r;t++)f(e,v[t])}else S(e,n.b(t))}:(e,t)=>{var r=unescape(encodeURIComponent(t)),n=r.length;m(e,n);for(let t=0;t<n;t++)f(e,r.codePointAt(t))};const _=(t,e)=>k(t,d(e)),k=(t,e)=>{var r=t.cbuf.length,n=t.cpos,i=a.h(r-n,e.length),s=e.length-i;t.cbuf.set(e.subarray(0,i),n),t.cpos+=i,0<s&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(a.g(2*r,s)),t.cbuf.set(e.subarray(i)),t.cpos=s)},S=(t,e)=>{m(t,e.byteLength),k(t,e)},E=(t,e)=>{n=e,(i=(r=t).cbuf.length)-r.cpos<n&&(r.bufs.push(new Uint8Array(r.cbuf.buffer,0,r.cpos)),r.cbuf=new Uint8Array(2*a.g(i,n)),r.cpos=0);var r,n,i=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,i};const A=new DataView(new ArrayBuffer(4)),x=(e,r)=>{switch(typeof r){case"string":f(e,119),w(e,r);break;case"number":c.b(r)&&a.a(r)<=l.i?(f(e,125),b(e,r)):(o=r,A.setFloat32(0,o),A.getFloat32(0)===o?(f(e,124),o=e,s=r,E(o,4).setFloat32(0,s,!1)):(f(e,123),o=e,s=r,E(o,8).setFloat64(0,s,!1)));break;case"bigint":f(e,122),o=e,t=r,E(o,8).setBigInt64(0,t,!1);break;case"object":if(null===r)f(e,126);else if(u.d(r)){f(e,117),m(e,r.length);for(let t=0;t<r.length;t++)x(e,r[t])}else if(r instanceof Uint8Array)f(e,116),S(e,r);else{f(e,118);var n=Object.keys(r);m(e,n.length);for(let t=0;t<n.length;t++){var i=n[t];w(e,i),x(e,r[i])}}break;case"boolean":f(e,r?120:121);break;default:f(e,127)}var t,s,o};class C extends i{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(0<this.count&&m(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}i;i;const O=t=>{0<t.count&&(b(t.encoder,1===t.count?t.s:-t.s),1<t.count)&&m(t.encoder,t.count-2)};class D{constructor(){this.encoder=new i,this.s=0,this.count=0}write(t){this.s===t?this.count++:(O(this),this.count=1,this.s=t)}toUint8Array(){return O(this),d(this.encoder)}}const I=t=>{var e;0<t.count&&(e=2*t.diff+(1===t.count?0:1),b(t.encoder,e),1<t.count)&&m(t.encoder,t.count-2)};class T{constructor(){this.encoder=new i,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(I(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return I(this),d(this.encoder)}}class M{constructor(){this.sarr=[],this.s="",this.lensE=new D}write(t){this.s+=t,19<this.s.length&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){var t=new i;return this.sarr.push(this.s),this.s="",w(t,this.sarr.join("")),k(t,this.lensE.toUint8Array()),d(t)}}},function(t,e,r){"use strict";r.d(e,"e",function(){return u}),r.d(e,"f",function(){return h}),r.d(e,"l",function(){return f}),r.d(e,"h",function(){return g}),r.d(e,"k",function(){return p}),r.d(e,"i",function(){return m}),r.d(e,"j",function(){return b}),r.d(e,"g",function(){return w}),r.d(e,"b",function(){return _}),r.d(e,"d",function(){return k}),r.d(e,"a",function(){return S}),r.d(e,"c",function(){return E});var o=r(4),n=r(5),a=r(100),i=r(19),e=r(9);r(1);const c=e.a("Unexpected end of array"),l=e.a("Integer out of Range");class s{constructor(t){this.arr=t,this.pos=0}}const u=t=>new s(t),h=t=>t.pos!==t.arr.length;const d=(t,e)=>{var r=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,r},f=t=>d(t,p(t));const g=t=>t.arr[t.pos++];const p=t=>{let e=0,r=1;for(var n=t.arr.length;t.pos<n;){var i=t.arr[t.pos++];if(e+=(i&o.m)*r,r*=128,i<o.g)return e;if(e>a.a)throw l}throw c},m=t=>{var e=t.arr[t.pos++];let r=e&o.l,n=64;var i=0<(e&o.f)?-1:1;if(0==(e&o.g))return i*r;for(var s=t.arr.length;t.pos<s;){if(e=t.arr[t.pos++],r+=(e&o.m)*n,n*=128,e<o.g)return i*r;if(r>a.a)throw l}throw c};const b=i.f?t=>i.f.decode(f(t)):e=>{let r=p(e);if(0===r)return"";{let t=String.fromCodePoint(g(e));if(--r<100)for(;r--;)t+=String.fromCodePoint(g(e));else for(;0<r;){var n=r<1e4?r:1e4,i=e.arr.subarray(e.pos,e.pos+n);e.pos+=n,t+=String.fromCodePoint.apply(null,i),r-=n}return decodeURIComponent(escape(t))}};const v=(t,e)=>{var r=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,r};const y=[t=>{},t=>null,m,t=>v(t,4).getFloat32(0,!1),t=>v(t,8).getFloat64(0,!1),t=>v(t,8).getBigInt64(0,!1),t=>!1,t=>!0,b,e=>{var r=p(e),n={};for(let t=0;t<r;t++)n[b(e)]=w(e);return n},e=>{var r=p(e),n=[];for(let t=0;t<r;t++)n.push(w(e));return n},f],w=t=>y[127-g(t)](t);class _ extends s{constructor(t,e){super(t),this.reader=e,this.s=null,this.count=0}read(){return 0===this.count&&(this.s=this.reader(this),h(this)?this.count=p(this)+1:this.count=-1),this.count--,this.s}}s;s;class k extends s{constructor(t){super(t),this.s=0,this.count=0}read(){var t;return 0===this.count&&(this.s=m(this),t=n.e(this.s),this.count=1,t)&&(this.s=-this.s,this.count=p(this)+2),this.count--,this.s}}s;class S extends s{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){var t,e;return 0===this.count&&(e=1&(t=m(this)),this.diff=n.d(t/2),this.count=1,e)&&(this.count=p(this)+2),this.s+=this.diff,this.count--,this.s}}class E{constructor(t){this.decoder=new k(t),this.str=b(this.decoder),this.spos=0}read(){var t=this.spos+this.decoder.read(),e=this.str.slice(this.spos,t);return this.spos=t,e}}},,function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"b",function(){return i}),r.d(e,"c",function(){return s}),r.d(e,"d",function(){return o}),r.d(e,"e",function(){return a}),r.d(e,"f",function(){return c}),r.d(e,"g",function(){return l}),r.d(e,"k",function(){return u}),r.d(e,"l",function(){return h}),r.d(e,"m",function(){return d}),r.d(e,"n",function(){return f}),r.d(e,"h",function(){return g}),r.d(e,"i",function(){return p}),r.d(e,"j",function(){return m});const n=1,i=2,s=4,o=8;const a=32,c=64,l=128;const u=31,h=63,d=127,f=255;const g=2097151;const p=2147483647,m=4294967295},function(t,e,r){"use strict";r.d(e,"d",function(){return n}),r.d(e,"b",function(){return i}),r.d(e,"a",function(){return s}),r.d(e,"j",function(){return o}),r.d(e,"f",function(){return a}),r.d(e,"h",function(){return c}),r.d(e,"g",function(){return l}),r.d(e,"i",function(){return u}),r.d(e,"c",function(){return h}),r.d(e,"e",function(){return d});const n=Math.floor,i=Math.ceil,s=Math.abs;Math.imul;const o=Math.round,a=Math.log10;Math.log2,Math.log,Math.sqrt;const c=(t,e)=>t<e?t:e,l=(t,e)=>e<t?t:e;Number.isNaN;const u=Math.pow,h=t=>Math.pow(10,t);Math.sign;const d=t=>0!==t?t<0:1/t<0},function(t,e,r){"use strict";r.d(e,"c",function(){return n}),r.d(e,"b",function(){return i}),r.d(e,"e",function(){return s}),r.d(e,"d",function(){return o}),r.d(e,"a",function(){return a});const n=()=>new Map,i=t=>{const r=n();return t.forEach((t,e)=>{r.set(e,t)}),r},s=(t,e,r)=>{let n=t.get(e);return void 0===n&&t.set(e,n=r()),n},o=(t,e)=>{var r,n,i=[];for([r,n]of t)i.push(e(n,r));return i},a=(t,e)=>{for(var[r,n]of t)if(e(n,r))return!0;return!1}},function(t,e,r){"use strict";var i=r(41),n=Object.prototype.toString;function s(t){return"[object Array]"===n.call(t)}function o(t){return void 0===t}function a(t){return null!==t&&"object"==typeof t}function c(t){return"[object Object]"===n.call(t)&&(null===(t=Object.getPrototypeOf(t))||t===Object.prototype)}function l(t){return"[object Function]"===n.call(t)}function u(t,e){if(null!=t)if(s(t="object"!=typeof t?[t]:t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===n.call(t)},isBuffer:function(t){return null!==t&&!o(t)&&null!==t.constructor&&!o(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isPlainObject:c,isUndefined:o,isDate:function(t){return"[object Date]"===n.call(t)},isFile:function(t){return"[object File]"===n.call(t)},isBlob:function(t){return"[object Blob]"===n.call(t)},isFunction:l,isStream:function(t){return a(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function r(){var n={};function t(t,e){c(n[e])&&c(t)?n[e]=r(n[e],t):c(t)?n[e]=r({},t):s(t)?n[e]=t.slice():n[e]=t}for(var e=0,i=arguments.length;e<i;e++)u(arguments[e],t);return n},extend:function(r,t,n){return u(t,function(t,e){r[e]=n&&"function"==typeof t?i(t,n):t}),r},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return t=65279===t.charCodeAt(0)?t.slice(1):t}}},,function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"b",function(){return i}),r.d(e,"c",function(){return s});const n=t=>new Error(t),i=()=>{throw n("Method unimplemented")},s=()=>{throw n("Unexpected case")}},function(t,e,r){"use strict";r.d(e,"b",function(){return l}),r.d(e,"c",function(){return u}),r.d(e,"h",function(){return h}),r.d(e,"j",function(){return d}),r.d(e,"a",function(){return f}),r.d(e,"g",function(){return p}),r.d(e,"e",function(){return m}),r.d(e,"d",function(){return b}),r.d(e,"f",function(){return v}),r.d(e,"i",function(){return y});var n=r(144),o=r(11),e=(wp.i18n.__,wp.data),i=e.select,s=e.dispatch,a=jQuery,c=new(r(61).diff_match_patch),l=function(t){for(var e=new Set,r=t.length-1;0<=r;r--){var n=t.get(r),i=n.clientId;i&&(e.has(i)?t.delete(r,1):e.add(n.clientId))}},u=function(t,e){var r;try{r=new n.a(cf_multiedit.cf_multiedit_websocket,"".concat(activityLocalizer.cf_site_url,"-").concat(cf_multiedit_websocket_unique_key.cf_multiedit_websocket_unique_key,"-").concat(e),t)}catch(t){if(t instanceof DOMException)return(null==(e=i("core/editor").getEditedPostAttribute("meta"))?void 0:e._is_real_time_mode)&&s("core/notices").createErrorNotice("There is problem in WebSocket URL, please make sure the Websocket URL is correct, otherwise content syncing won't work.",{type:"default",isDismissible:!0,actions:[{label:"View Instructions",url:"https://docs.multicollab.com/settings/real-time-editing"}],id:"ws-url-error"}),!1;throw t}return r.on("connection-error",function(t){var e;if(null==(e=i("core/editor").getEditedPostAttribute("meta"))?void 0:e._is_real_time_mode)return s("core/notices").createErrorNotice("There is problem in WebSocket connection, please make sure the Websocket URL is configured and added correctly.",{type:"default",isDismissible:!0,actions:[{label:"View Instructions",url:"https://docs.multicollab.com/settings/real-time-editing"}],id:"ws-error"}),r.disconnect(),!1}),r},h=function(t,e){for(var r=0,n=0;r<t.length&&r<e.length&&_.isEqual(t[r],e[r]);)r++;if(r!==t.length||r!==e.length)for(;n+r<t.length&&n+r<e.length&&_.isEqual(t[t.length-n-1],e[e.length-n-1]);)n++;return{index:r,remove:t.length-r-n,insert:e.slice(r,e.length-n)}},d=function(r,n){var t;(null==(t=i("core"))||null==(t=t.getCurrentUser())?void 0:t.id)!==r&&wp.apiRequest({path:"/wp/v2/users/".concat(r)}).then(function(e){var t;"undefined"!=typeof cf_slack_notification&&"1"===cf_slack_notification.join_left_call?(t={action:"realtime_collaborators_slack_notification_update_ajax",joinLeftUserId:r,userType:n,postID:i("core/editor").getCurrentPostId()},a.post(ajaxurl,t,function(t){s("core/notices").createNotice("success"," ".concat(null==e?void 0:e.name," ").concat(n),{type:"snackbar",isDismissible:!0,id:"user-notification"})})):s("core/notices").createNotice("success"," ".concat(null==e?void 0:e.name," ").concat(n),{type:"snackbar",isDismissible:!0,id:"user-notification"})})},f=function(t,e,r){var e=g(t,e),n=new o.b,i=n.getArray("calculateCursorPositionRelativeToContent"),s=new o.d(t),t=(i.insert(0,[s]),o.g(s,r));return e.forEach(function(t){0!==t.remove&&s.delete(t.index,t.remove),0<t.insert.length&&s.insert(t.index,t.insert)}),o.f(t,n)},g=function(t,e){var t=c.diff_main(t,e),r=0,n=[];return t.map(function(t){0!==t[0]&&n.push({index:r,insert:-1===t[0]?"":t[1],remove:1===t[0]?0:t[1].length}),-1!==t[0]&&(r+=t[1].length)}),n},p=function(t){return t.replace(/<[^>]*>/g,"")},m=function(){var t=document.getElementsByClassName("components-popover components-autocomplete__popover");return!!(t&&0<t.length)},b=function(t){return["content","citation","caption","value","summary","text"].includes(t)},v=function(t,e){var r=document.createElement("div"),t=(r.innerHTML=t,r.querySelector('mdspan[datatext="'+e+'"]'));return t&&(t.outerHTML=t.innerHTML),r.innerHTML},y=function(){var t=document.getElementsByClassName("comment-focus");return!!(t&&0<t.length)}},function(U,t,e){"use strict";e.d(t,"a",function(){return s}),e.d(t,"b",function(){return kt}),e.d(t,"c",function(){return a}),e.d(t,"d",function(){return c}),e.d(t,"e",function(){return Mt}),e.d(t,"f",function(){return Xt}),e.d(t,"g",function(){return Gt}),e.d(t,"h",function(){return Rt}),e.d(t,"i",function(){return Bt});var t=e(49),b=e(12),d=e(5),v=e(6),y=e(1),f=e(2),g=e(4);crypto.subtle;const L=crypto.getRandomValues.bind(crypto),N=(Math.random,()=>L(new Uint32Array(1))[0]);const B=[1e7]+-1e3+-4e3+-8e3+-1e11;var q=e(20);const F=t=>new Promise(t);Promise.all.bind(Promise);var J=e(62),u=e(9),Y=e(22),W=e(24),z=e(50);class ${constructor(t,e){this.left=t,this.right=e}}const r=(t,e)=>new $(t,e);const n="undefined"!=typeof document?document:{};"undefined"!=typeof DOMParser&&new DOMParser;const H=t=>v.d(t,(t,e)=>e+`:${t};`).join("");n.ELEMENT_NODE,n.TEXT_NODE,n.CDATA_SECTION_NODE,n.COMMENT_NODE,n.DOCUMENT_NODE,n.DOCUMENT_TYPE_NODE,n.DOCUMENT_FRAGMENT_NODE;JSON.stringify;JSON.parse;var i=t=>class{constructor(t){this._=t}destroy(){t(this._)}};i(clearTimeout),i(clearInterval);i(t=>"undefined"!=typeof requestAnimationFrame&&cancelAnimationFrame(t));i(t=>"undefined"!=typeof cancelIdleCallback&&cancelIdleCallback(t));i=Symbol;const V=i(),K=i();var G=i(),X=i(),Q=i();const Z=i();var tt=i();const et=i(),rt=i();et;q.a();const nt={[V]:r("font-weight","bold"),[K]:r("font-weight","normal"),[G]:r("color","blue"),[Q]:r("color","green"),[X]:r("color","grey"),[Z]:r("color","red"),[tt]:r("color","purple"),[et]:r("color","orange"),[rt]:r("color","black")};const it=z.c?t=>{var e=[],r=[],n=v.c();let i=[],s=0;for(;s<t.length;s++){var o=t[s],a=nt[o];if(void 0!==a)n.set(a.left,a.right);else{if(o.constructor!==String&&o.constructor!==Number)break;a=H(n);0<s||0<a.length?(e.push("%c"+o),r.push(a)):e.push(o)}}for(0<s&&(i=r).unshift(e.join(""));s<t.length;s++){var c=t[s];c instanceof Symbol||i.push(c)}return i}:t=>{var e=[],r=[];let n=0;for(;n<t.length;n++){var i=t[n];i.constructor===String||i.constructor===Number?e.push(i):i.constructor===Object&&r.push(JSON.stringify(i))}return r},st=(...e)=>{console.log(...it(e)),ot.forEach(t=>t.print(e))};const ot=W.a();e(19);const at=t=>({[Symbol.iterator](){return this},next:t}),ct=(r,n)=>at(()=>{var{done:t,value:e}=r.next();return{done:t,value:t?void 0:n(e)}});var lt=e(29);(class extends t.a{});class ut{constructor(t,e){this.clock=t,this.len=e}}class ht{constructor(){this.clients=new Map}}const dt=(i,t,s)=>t.clients.forEach((e,t)=>{var r=i.doc.store.clients.get(t);for(let t=0;t<e.length;t++){var n=e[t];ae(i,r,n.clock,n.len,s)}}),ft=(t,e)=>{t=t.clients.get(e.client);return void 0!==t&&null!==((t,e)=>{let r=0,n=t.length-1;for(;r<=n;){var i=d.d((r+n)/2),s=t[i],o=s.clock;if(o<=e){if(e<o+s.len)return i;r=i+1}else n=i-1}return null})(t,e.clock)},gt=t=>{t.clients.forEach(t=>{t.sort((t,e)=>t.clock-e.clock);let e,r;for(e=1,r=1;e<t.length;e++){var n=t[r-1],i=t[e];n.clock+n.len>=i.clock?n.len=d.g(n.len,i.clock+i.len-n.clock):(r<e&&(t[r]=i),r++)}t.length=r})},pt=i=>{const s=new ht;for(let n=0;n<i.length;n++)i[n].clients.forEach((t,e)=>{if(!s.clients.has(e)){var r=t.slice();for(let t=n+1;t<i.length;t++)b.a(r,i[t].clients.get(e)||[]);s.clients.set(e,r)}});return gt(s),s},mt=(t,e,r,n)=>{v.e(t.clients,e,()=>[]).push(new ut(r,n))},bt=()=>new ht,vt=t=>{const e=bt();return t.clients.forEach((n,t)=>{var i=[];for(let r=0;r<n.length;r++){var s=n[r];if(s.deleted){var o=s.id.clock;let e=s.length;if(r+1<n.length)for(let t=n[r+1];r+1<n.length&&t.deleted;t=n[++r+1])e+=t.length;i.push(new ut(o,e))}}0<i.length&&e.clients.set(t,i)}),e},p=(i,t)=>{y.p(i.restEncoder,t.clients.size),b.c(t.clients.entries()).sort((t,e)=>e[0]-t[0]).forEach(([t,e])=>{i.resetDsCurVal(),y.p(i.restEncoder,t);var r=e.length;y.p(i.restEncoder,r);for(let t=0;t<r;t++){var n=e[t];i.writeDsClock(n.clock),i.writeDsLen(n.len)}})},yt=e=>{var r=new ht,n=f.k(e.restDecoder);for(let t=0;t<n;t++){e.resetDsCurVal();var i=f.k(e.restDecoder),s=f.k(e.restDecoder);if(0<s){var o=v.e(r.clients,i,()=>[]);for(let t=0;t<s;t++)o.push(new ut(e.readDsClock(),e.readDsLen()))}}return r},wt=(e,r,n)=>{var t,i=new ht,s=f.k(e.restDecoder);for(let t=0;t<s;t++){e.resetDsCurVal();var o=f.k(e.restDecoder),a=f.k(e.restDecoder),c=n.clients.get(o)||[],l=k(n,o);for(let t=0;t<a;t++){var u=e.readDsClock(),h=u+e.readDsLen();if(u<l){l<h&&mt(i,o,l,h-l);let t=S(c,u),e=c[t];for(!e.deleted&&e.id.clock<u&&(c.splice(t+1,0,Rr(r,e,u-e.id.clock)),t++);t<c.length&&(e=c[t++]).id.clock<h;)e.deleted||(h<e.id.clock+e.length&&c.splice(t,0,Rr(r,e,h-e.id.clock)),e.delete(r))}else mt(i,o,u,h-u)}}return 0<i.clients.size?(t=new w,y.p(t.restEncoder,0),p(t,i),t.toUint8Array()):null},_t=N;class kt extends t.a{constructor({guid:t=(()=>B.replace(/[018]/g,t=>(t^N()&15>>t/4).toString(16)))(),collectionid:e=null,gc:r=!0,gcFilter:n=()=>!0,meta:i=null,autoLoad:s=!1,shouldLoad:o=!0}={}){super(),this.gc=r,this.gcFilter=n,this.clientID=_t(),this.guid=t,this.collectionid=e,this.share=new Map,this.store=new ee,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=o,this.autoLoad=s,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=F(t=>{this.on("load",()=>{this.isLoaded=!0,t(this)})});const a=()=>F(e=>{const r=t=>{void 0!==t&&!0!==t||(this.off("sync",r),e())};this.on("sync",r)});this.on("sync",t=>{!1===t&&this.isSynced&&(this.whenSynced=a()),this.isSynced=void 0===t||!0===t,this.isSynced&&!this.isLoaded&&this.emit("load",[])}),this.whenSynced=a()}load(){var t=this._item;null===t||this.shouldLoad||A(t.parent.doc,t=>{t.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(b.c(this.subdocs).map(t=>t.guid))}transact(t,e=null){return A(this,t,e)}get(t,e=C){var r=v.e(this.share,t,()=>{var t=new e;return t._integrate(this,null),t}),n=r.constructor;if(e===C||n===e)return r;if(n!==C)throw new Error(`Type with the name ${t} has already been defined with a different constructor`);{const i=new e;i._map=r._map,r._map.forEach(t=>{for(;null!==t;t=t.left)t.parent=i}),i._start=r._start;for(let t=i._start;null!==t;t=t.right)t.parent=i;return i._length=r._length,this.share.set(t,i),i._integrate(this,null),i}}getArray(t=""){return this.get(t,s)}getText(t=""){return this.get(t,c)}getMap(t=""){return this.get(t,a)}getXmlFragment(t=""){return this.get(t,l)}toJSON(){const r={};return this.share.forEach((t,e)=>{r[e]=t.toJSON()}),r}destroy(){b.c(this.subdocs).forEach(t=>t.destroy());const r=this._item;if(null!==r){this._item=null;const n=r.content;n.doc=new kt({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=r,A(r.parent.doc,t=>{var e=n.doc;r.deleted||t.subdocsAdded.add(e),t.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(t,e){super.on(t,e)}off(t,e){super.off(t,e)}}class St{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return f.k(this.restDecoder)}readDsLen(){return f.k(this.restDecoder)}}class Et extends St{readLeftID(){return _(f.k(this.restDecoder),f.k(this.restDecoder))}readRightID(){return _(f.k(this.restDecoder),f.k(this.restDecoder))}readClient(){return f.k(this.restDecoder)}readInfo(){return f.h(this.restDecoder)}readString(){return f.j(this.restDecoder)}readParentInfo(){return 1===f.k(this.restDecoder)}readTypeRef(){return f.k(this.restDecoder)}readLen(){return f.k(this.restDecoder)}readAny(){return f.g(this.restDecoder)}readBuf(){return J.a(f.l(this.restDecoder))}readJSON(){return JSON.parse(f.j(this.restDecoder))}readKey(){return f.j(this.restDecoder)}}class At{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=f.k(this.restDecoder),this.dsCurrVal}readDsLen(){var t=f.k(this.restDecoder)+1;return this.dsCurrVal+=t,t}}class m extends At{constructor(t){super(t),this.keys=[],f.k(t),this.keyClockDecoder=new f.a(f.l(t)),this.clientDecoder=new f.d(f.l(t)),this.leftClockDecoder=new f.a(f.l(t)),this.rightClockDecoder=new f.a(f.l(t)),this.infoDecoder=new f.b(f.l(t),f.h),this.stringDecoder=new f.c(f.l(t)),this.parentInfoDecoder=new f.b(f.l(t),f.h),this.typeRefDecoder=new f.d(f.l(t)),this.lenDecoder=new f.d(f.l(t))}readLeftID(){return new o(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new o(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return 1===this.parentInfoDecoder.read()}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return f.g(this.restDecoder)}readBuf(){return f.l(this.restDecoder)}readJSON(){return f.g(this.restDecoder)}readKey(){var t=this.keyClockDecoder.read();return t<this.keys.length?this.keys[t]:(t=this.stringDecoder.read(),this.keys.push(t),t)}}class xt{constructor(){this.restEncoder=y.e()}toUint8Array(){return y.h(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){y.p(this.restEncoder,t)}writeDsLen(t){y.p(this.restEncoder,t)}}class Ct extends xt{writeLeftID(t){y.p(this.restEncoder,t.client),y.p(this.restEncoder,t.clock)}writeRightID(t){y.p(this.restEncoder,t.client),y.p(this.restEncoder,t.clock)}writeClient(t){y.p(this.restEncoder,t)}writeInfo(t){y.l(this.restEncoder,t)}writeString(t){y.o(this.restEncoder,t)}writeParentInfo(t){y.p(this.restEncoder,t?1:0)}writeTypeRef(t){y.p(this.restEncoder,t)}writeLen(t){y.p(this.restEncoder,t)}writeAny(t){y.j(this.restEncoder,t)}writeBuf(t){y.q(this.restEncoder,t)}writeJSON(t){y.o(this.restEncoder,JSON.stringify(t))}writeKey(t){y.o(this.restEncoder,t)}}class Ot{constructor(){this.restEncoder=y.e(),this.dsCurrVal=0}toUint8Array(){return y.h(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){var e=t-this.dsCurrVal;this.dsCurrVal=t,y.p(this.restEncoder,e)}writeDsLen(t){0===t&&u.c(),y.p(this.restEncoder,t-1),this.dsCurrVal+=t}}class w extends Ot{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new y.a,this.clientEncoder=new y.d,this.leftClockEncoder=new y.a,this.rightClockEncoder=new y.a,this.infoEncoder=new y.b(y.l),this.stringEncoder=new y.c,this.parentInfoEncoder=new y.b(y.l),this.typeRefEncoder=new y.d,this.lenEncoder=new y.d}toUint8Array(){var t=y.e();return y.p(t,0),y.q(t,this.keyClockEncoder.toUint8Array()),y.q(t,this.clientEncoder.toUint8Array()),y.q(t,this.leftClockEncoder.toUint8Array()),y.q(t,this.rightClockEncoder.toUint8Array()),y.q(t,y.h(this.infoEncoder)),y.q(t,this.stringEncoder.toUint8Array()),y.q(t,y.h(this.parentInfoEncoder)),y.q(t,this.typeRefEncoder.toUint8Array()),y.q(t,this.lenEncoder.toUint8Array()),y.m(t,y.h(this.restEncoder)),y.h(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){y.j(this.restEncoder,t)}writeBuf(t){y.q(this.restEncoder,t)}writeJSON(t){y.j(this.restEncoder,t)}writeKey(t){var e=this.keyMap.get(t);void 0===e?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(e)}}const Dt=(s,o,r)=>{const n=new Map;r.forEach((t,e)=>{k(o,e)>t&&n.set(e,t)}),re(o).forEach((t,e)=>{r.has(e)||n.set(e,0)}),y.p(s.restEncoder,n.size),b.c(n.entries()).sort((t,e)=>e[0]-t[0]).forEach(([t,e])=>{var r=s,n=o.clients.get(t),i=(e=d.g(e,n[0].id.clock),S(n,e));y.p(r.restEncoder,n.length-i),r.writeClient(t),y.p(r.restEncoder,e),(t=n[i]).write(r,e-t.id.clock);for(let t=i+1;t<n.length;t++)n[t].write(r,0)})},It=(t,e,r,h=new m(t))=>A(e,t=>{let e=t.local=!1;var r=t.doc,n=r.store,r=((t,e,n)=>{const i=[];let s=b.c(n.keys()).sort((t,e)=>t-e);if(0===s.length)return null;var r=()=>{if(0===s.length)return null;let t=n.get(s[s.length-1]);for(;t.refs.length===t.i;){if(s.pop(),!(0<s.length))return null;t=n.get(s[s.length-1])}return t};let o=r();if(null===o)return null;const a=new ee,c=new Map;var l=(t,e)=>{var r=c.get(t);(null==r||e<r)&&c.set(t,e)};let u=o.refs[o.i++];for(var h,d=new Map,f=()=>{for(const e of i){const r=e.id.client;var t=n.get(r);t?(t.i--,a.clients.set(r,t.refs.slice(t.i)),n.delete(r),t.i=0,t.refs=[]):a.clients.set(r,[e]),s=s.filter(t=>t!==r)}i.length=0};;){if(u.constructor!==P){var g=v.e(d,u.id.client,()=>k(e,u.id.client))-u.id.clock;if(g<0)i.push(u),l(u.id.client,u.id.clock-1),f();else{var p=u.getMissing(t,e);if(null!==p){i.push(u);var m=n.get(p)||{refs:[],i:0};if(m.refs.length!==m.i){u=m.refs[m.i++];continue}l(p,k(e,p)),f()}else(0==g||g<u.length)&&(u.integrate(t,g),d.set(u.id.client,u.id.clock+u.length))}}if(0<i.length)u=i.pop();else{if(!(null!==o&&o.i<o.refs.length)&&null===(o=r()))break;u=o.refs[o.i++]}}return 0<a.clients.size?(h=new w,Dt(h,a,new Map),y.p(h.restEncoder,0),{missing:c,update:h.toUint8Array()}):null})(t,n,((r,n)=>{var i=v.c(),e=f.k(r.restDecoder);for(let t=0;t<e;t++){var s=f.k(r.restDecoder),o=new Array(s),a=r.readClient();let e=f.k(r.restDecoder);i.set(a,{i:0,refs:o});for(let t=0;t<s;t++){var c=r.readInfo();switch(g.k&c){case 0:var l=r.readLen();o[t]=new I(_(a,e),l),e+=l;break;case 10:l=f.k(r.restDecoder);o[t]=new P(_(a,e),l),e+=l;break;default:var u=0==(c&(g.f|g.g)),u=new R(_(a,e),null,(c&g.g)===g.g?r.readLeftID():null,null,(c&g.f)===g.f?r.readRightID():null,u?r.readParentInfo()?n.get(r.readString()):r.readLeftID():null,u&&(c&g.e)===g.e?r.readString():null,Pr(r,c));o[t]=u,e+=u.length}}}return i})(h,r)),i=n.pendingStructs;if(i){for(var[s,o]of i.missing)if(o<k(n,s)){e=!0;break}if(r){for(var[a,c]of r.missing){var l=i.missing.get(a);(null==l||l>c)&&i.missing.set(a,c)}i.update=ye([i.update,r.update])}}else n.pendingStructs=r;var u,r=wt(h,t,n);n.pendingDs?(u=new m(f.e(n.pendingDs)),f.k(u.restDecoder),u=wt(u,t,n),n.pendingDs=r&&u?ye([r,u]):r||u):n.pendingDs=r,e&&(u=n.pendingStructs.update,n.pendingStructs=null,Tt(t.doc,u))},r,!1);const Tt=(t,e,r,n=m)=>{e=f.e(e);It(e,t,r,new n(e))},Mt=(t,e,r)=>Tt(t,e,r,Et),jt=(t,e,r=new Map)=>{Dt(t,e.store,r),p(t,vt(e.store))},Rt=(t,e)=>{var[t,e=new Uint8Array([0]),r=new w]=[t,e,new Ct],n=Ut(e),n=(jt(r,t,n),[r.toUint8Array()]);if(t.store.pendingDs&&n.push(t.store.pendingDs),t.store.pendingStructs&&n.push(we(t.store.pendingStructs.update,e)),1<n.length){if(r.constructor===Ct)return be(n.map((t,e)=>0===e?t:Ee(t)));if(r.constructor===w)return ye(n)}return n[0]},Pt=e=>{var r=new Map,n=f.k(e.restDecoder);for(let t=0;t<n;t++){var i=f.k(e.restDecoder),s=f.k(e.restDecoder);r.set(i,s)}return r},Ut=t=>Pt(new St(f.e(t))),Lt=(r,t)=>(y.p(r.restEncoder,t.size),b.c(t.entries()).sort((t,e)=>e[0]-t[0]).forEach(([t,e])=>{y.p(r.restEncoder,t),y.p(r.restEncoder,e)}),r),Nt=(t,e)=>Lt(t,re(e.store)),Bt=t=>{return[t,e=new Ot]=[t,new xt],(t instanceof Map?Lt:Nt)(e,t),e.toUint8Array();var e};class qt{constructor(){this.l=[]}}const Ft=()=>new qt,Jt=(t,e)=>t.l.push(e),Yt=(t,e)=>{var r=t.l,n=r.length;t.l=r.filter(t=>e!==t),n===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Wt=(t,e,r)=>Y.a(t.l,[e,r]);class o{constructor(t,e){this.client=t,this.clock=e}}const zt=(t,e)=>t===e||null!==t&&null!==e&&t.client===e.client&&t.clock===e.clock,_=(t,e)=>new o(t,e),$t=t=>{for(var[e,r]of t.doc.share.entries())if(r===t)return e;throw u.c()};class Ht{constructor(t,e,r,n=0){this.type=t,this.tname=e,this.item=r,this.assoc=n}}class Vt{constructor(t,e,r=0){this.type=t,this.index=e,this.assoc=r}}const Kt=(t,e,r)=>{let n=null,i=null;return null===t._item?i=$t(t):n=_(t._item.id.client,t._item.id.clock),new Ht(n,i,e,r)},Gt=(t,e,r=0)=>{let n=t._start;if(r<0){if(0===e)return Kt(t,null,r);e--}for(;null!==n;){if(!n.deleted&&n.countable){if(n.length>e)return Kt(t,_(n.id.client,n.id.clock+e),r);e-=n.length}if(null===n.right&&r<0)return Kt(t,n.lastId,r);n=n.right}return Kt(t,null,r)};const Xt=(t,e)=>{var r=e.store,n=t.item,i=t.type,s=t.tname,o=t.assoc;let a=null,c=0;if(null!==n){if(k(r,n.client)<=n.clock)return null;var n=jr(r,n),l=n.item;if(!(l instanceof R))return null;if(null===(a=l.parent)._item||!a._item.deleted){c=l.deleted||!l.countable?0:n.diff+(0<=o?0:1);let t=l.left;for(;null!==t;)!t.deleted&&t.countable&&(c+=t.length),t=t.left}}else{if(null!==s)a=e.get(s);else{if(null===i)throw u.c();if(k(r,i.client)<=i.clock)return null;n=jr(r,i)["item"];if(!(n instanceof R&&n.content instanceof j))return null;a=n.content.type}c=0<=o?a._length:0}return[l,e,s=0]=[a,c,t.assoc],new Vt(l,e,s)};class Qt{constructor(t,e){this.ds=t,this.sv=e}}const Zt=(t,e)=>new Qt(t,e);Zt(bt(),new Map);const h=(t,e)=>void 0===e?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!ft(e.ds,t.id),te=(r,t)=>{var e=v.e(r.meta,te,W.a);const n=r.doc.store;e.has(t)||(t.sv.forEach((t,e)=>{t<k(n,e)&&E(r,_(e,t))}),dt(r,t.ds,t=>{}),e.add(t))};class ee{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const re=t=>{const r=new Map;return t.clients.forEach((t,e)=>{t=t[t.length-1];r.set(e,t.id.clock+t.length)}),r},k=(t,e)=>{t=t.clients.get(e);return void 0===t?0:(e=t[t.length-1]).id.clock+e.length},ne=(t,e)=>{let r=t.clients.get(e.id.client);if(void 0===r)r=[],t.clients.set(e.id.client,r);else{t=r[r.length-1];if(t.id.clock+t.length!==e.id.clock)throw u.c()}r.push(e)},S=(t,e)=>{let r=0,n=t.length-1;var i=t[n],s=i.id.clock;if(s===e)return n;let o=d.d(e/(s+i.length-1)*n);for(;r<=n;){if((s=(i=t[o]).id.clock)<=e){if(e<s+i.length)return o;r=o+1}else n=o-1;o=d.d((r+n)/2)}throw u.c()};const ie=(t,e)=>{t=t.clients.get(e.client);return t[S(t,e.clock)]},se=(t,e,r)=>{var n=S(e,r),i=e[n];return i.id.clock<r&&i instanceof R?(e.splice(n+1,0,Rr(t,i,r-i.id.clock)),n+1):n},E=(t,e)=>{var r=t.doc.store.clients.get(e.client);return r[se(t,r,e.clock)]},oe=(t,e,r)=>{var e=e.clients.get(r.client),n=S(e,r.clock),i=e[n];return r.clock!==i.id.clock+i.length-1&&i.constructor!==I&&e.splice(n+1,0,Rr(t,i,r.clock-i.id.clock+1)),i},ae=(e,r,n,i,s)=>{if(0!==i){var o,a=n+i;let t=se(e,r,n);for(;a<(o=r[t++]).id.clock+o.length&&se(e,r,a),s(o),t<r.length&&r[t].id.clock<a;);}};class ce{constructor(t,e,r){this.doc=t,this.deleteSet=new ht,this.beforeState=re(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=e,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const le=(t,r)=>{var e,n;return!(0===r.deleteSet.clients.size&&!v.a(r.afterState,(t,e)=>r.beforeState.get(e)!==t)||(gt(r.deleteSet),e=t,n=r,Dt(e,n.doc.store,n.beforeState),p(t,r.deleteSet),0))},ue=(t,e,r)=>{var n=e._item;(null===n||n.id.clock<(t.beforeState.get(n.id.client)||0)&&!n.deleted)&&v.e(t.changed,e,W.a).add(r)},he=(t,e)=>{let r=t[e],n=t[e-1],i=e;for(;0<i&&(n.deleted===r.deleted&&n.constructor===r.constructor&&n.mergeWith(r));r=n,n=t[--i-1])r instanceof R&&null!==r.parentSub&&r.parent._map.get(r.parentSub)===r&&r.parent._map.set(r.parentSub,n);var s=e-i;return s&&t.splice(e+1-s,s),s},de=(t,r,n)=>{for(var[e,i]of t.clients.entries()){var s=r.clients.get(e);for(let t=i.length-1;0<=t;t--){var o=i[t],a=o.clock+o.len;for(let t=S(s,o.clock),e=s[t];t<s.length&&e.id.clock<a;e=s[++t]){var c=s[t];if(o.clock+o.len<=c.id.clock)break;c instanceof R&&c.deleted&&!c.keep&&n(c)&&c.gc(r,!1)}}}},fe=(t,i)=>{t.clients.forEach((e,t)=>{var r=i.clients.get(t);for(let t=e.length-1;0<=t;t--){var n=e[t];for(let t=d.h(r.length-1,1+S(r,n.clock+n.len-1)),e=r[t];0<t&&e.id.clock>=n.clock;e=r[t])t-=1+he(r,t)}})};const ge=(t,e)=>{if(e<t.length){const c=t[e],l=c.doc,u=l.store;var r=c.deleteSet,n=c._mergeStructs;try{gt(r),c.afterState=re(c.doc.store),l.emit("beforeObserverCalls",[c,l]);const h=[];c.changed.forEach((t,e)=>h.push(()=>{null!==e._item&&e._item.deleted||e._callObserver(c,t)})),h.push(()=>{c.changedParentTypes.forEach((t,e)=>{0<e._dEH.l.length&&(null===e._item||!e._item.deleted)&&((t=t.filter(t=>null===t.target._item||!t.target._item.deleted)).forEach(t=>{t.currentTarget=e,t._path=null}),t.sort((t,e)=>t.path.length-e.path.length),Wt(e._dEH,t,c))})}),h.push(()=>l.emit("afterTransaction",[c,l])),Object(Y.a)(h,[]),c._needFormattingCleanup&&lr(c)}finally{l.gc&&de(r,u,l.gcFilter),fe(r,u),c.afterState.forEach((t,e)=>{var r=c.beforeState.get(e)||0;if(r!==t){var n=u.clients.get(e),i=d.g(S(n,r),1);for(let t=n.length-1;t>=i;)t-=1+he(n,t)}});for(let t=n.length-1;0<=t;t--){var{client:i,clock:s}=n[t].id,i=u.clients.get(i),s=S(i,s);s+1<i.length&&1<he(i,s+1)||0<s&&he(i,s)}c.local||c.afterState.get(l.clientID)===c.beforeState.get(l.clientID)||(st(et,V,"[yjs] ",K,Z,"Changed the client-id because another client seems to be using it."),l.clientID=_t()),l.emit("afterTransactionCleanup",[c,l]),l._observers.has("update")&&(r=new Ct,le(r,c))&&l.emit("update",[r.toUint8Array(),c.origin,l,c]),l._observers.has("updateV2")&&(r=new w,le(r,c))&&l.emit("updateV2",[r.toUint8Array(),c.origin,l,c]);var{subdocsAdded:r,subdocsLoaded:o,subdocsRemoved:a}=c;(0<r.size||0<a.size||0<o.size)&&(r.forEach(t=>{t.clientID=l.clientID,null==t.collectionid&&(t.collectionid=l.collectionid),l.subdocs.add(t)}),a.forEach(t=>l.subdocs.delete(t)),l.emit("subdocs",[{loaded:o,added:r,removed:a},l,c]),a.forEach(t=>t.destroy())),t.length<=e+1?(l._transactionCleanups=[],l.emit("afterAllTransactions",[l,t])):ge(t,e+1)}}},A=(t,e,r=null,n=!0)=>{var i=t._transactionCleanups;let s=!1,o=null;null===t._transaction&&(s=!0,t._transaction=new ce(t,r,n),i.push(t._transaction),1===i.length&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{o=e(t._transaction)}finally{s&&(r=t._transaction===i[0],t._transaction=null,r)&&ge(i,0)}return o};(class extends t.a{});class pe{constructor(t,e){this.gen=function*(r){var e=f.k(r.restDecoder);for(let t=0;t<e;t++){var n=f.k(r.restDecoder),i=r.readClient();let e=f.k(r.restDecoder);for(let t=0;t<n;t++){var s,o=r.readInfo();10===o?(s=f.k(r.restDecoder),yield new P(_(i,e),s),e+=s):0!=(g.k&o)?(s=0==(o&(g.f|g.g)),yield o=new R(_(i,e),null,(o&g.g)===g.g?r.readLeftID():null,null,(o&g.f)===g.f?r.readRightID():null,s?r.readParentInfo()?r.readString():r.readLeftID():null,s&&(o&g.e)===g.e?r.readString():null,Pr(r,o)),e+=o.length):(o=r.readLen(),yield new I(_(i,e),o),e+=o)}}}(t),this.curr=null,this.done=!1,this.filterSkips=e,this.next()}next(){for(;this.curr=this.gen.next().value||null,this.filterSkips&&null!==this.curr&&this.curr.constructor===P;);return this.curr}}class me{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const be=t=>ye(t,Et,Ct);const ve=(t,e)=>{var r,n;return t.constructor===I?({client:r,clock:n}=t.id,new I(_(r,n+e),t.length-e)):t.constructor===P?({client:r,clock:n}=t.id,new P(_(r,n+e),t.length-e)):({client:n,clock:t}=(r=t).id,new R(_(n,t+e),null,_(n,t+e-1),null,r.rightOrigin,r.parent,r.parentSub,r.content.splice(e)))},ye=(t,e=m,r=w)=>{if(1===t.length)return t[0];t=t.map(t=>new e(f.e(t)));let n=t.map(t=>new pe(t,!0)),i=null;for(var r=new r,s=new me(r);(n=n.filter(t=>null!==t.curr)).sort((t,e)=>{var r;return t.curr.id.client===e.curr.id.client?0==(r=t.curr.id.clock-e.curr.id.clock)?t.curr.constructor===e.curr.constructor?0:t.curr.constructor===P?1:-1:r:e.curr.id.client-t.curr.id.client}),0!==n.length;){var o,a=n[0],c=a.curr.id.client;if(null!==i){let t=a.curr,e=!1;for(;null!==t&&t.id.clock+t.length<=i.struct.id.clock+i.struct.length&&t.id.client>=i.struct.id.client;)t=a.next(),e=!0;if(null===t||t.id.client!==c||e&&t.id.clock>i.struct.id.clock+i.struct.length)continue;c!==i.struct.id.client?(x(s,i.struct,i.offset),i={struct:t,offset:0},a.next()):i.struct.id.clock+i.struct.length<t.id.clock?i.struct.constructor===P?i.struct.length=t.id.clock+t.length-i.struct.id.clock:(x(s,i.struct,i.offset),o=t.id.clock-i.struct.id.clock-i.struct.length,o=new P(_(c,i.struct.id.clock+i.struct.length),o),i={struct:o,offset:0}):(0<(o=i.struct.id.clock+i.struct.length-t.id.clock)&&(i.struct.constructor===P?i.struct.length-=o:t=ve(t,o)),i.struct.mergeWith(t)||(x(s,i.struct,i.offset),i={struct:t,offset:0},a.next()))}else i={struct:a.curr,offset:0},a.next();for(let t=a.curr;null!==t&&t.id.client===c&&t.id.clock===i.struct.id.clock+i.struct.length&&t.constructor!==P;t=a.next())x(s,i.struct,i.offset),i={struct:t,offset:0}}null!==i&&(x(s,i.struct,i.offset),i=null),ke(s);t=t.map(t=>yt(t)),t=pt(t);return p(r,t),r.toUint8Array()},we=(t,e,r=m,n=w)=>{for(var i=Ut(e),e=new n,s=new me(e),n=new r(f.e(t)),o=new pe(n,!1);o.curr;){var a=o.curr,c=a.id.client,l=i.get(c)||0;if(o.curr.constructor===P)o.next();else if(a.id.clock+a.length>l)for(x(s,a,d.g(l-a.id.clock,0)),o.next();o.curr&&o.curr.id.client===c;)x(s,o.curr,0),o.next();else for(;o.curr&&o.curr.id.client===c&&o.curr.id.clock+o.curr.length<=l;)o.next()}ke(s);r=yt(n);return p(e,r),e.toUint8Array()};const _e=t=>{0<t.written&&(t.clientStructs.push({written:t.written,restEncoder:y.h(t.encoder.restEncoder)}),t.encoder.restEncoder=y.e(),t.written=0)},x=(t,e,r)=>{0<t.written&&t.currClient!==e.id.client&&_e(t),0===t.written&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),y.p(t.encoder.restEncoder,e.id.clock+r)),e.write(t.encoder,r),t.written++},ke=e=>{_e(e);var r=e.encoder.restEncoder;y.p(r,e.clientStructs.length);for(let t=0;t<e.clientStructs.length;t++){var n=e.clientStructs[t];y.p(r,n.written),y.m(r,n.restEncoder)}},Se=(t,e,r,n)=>{var r=new r(f.e(t)),i=new pe(r,!1),t=new n,s=new me(t);for(let t=i.curr;null!==t;t=i.next())x(s,e(t),0);ke(s);n=yt(r);return p(t,n),t.toUint8Array()};const Ee=t=>Se(t,Y.d,m,Ct),Ae="You must not compute changes after the event-handler fired.";class xe{constructor(t,e){this.target=t,this.currentTarget=t,this.transaction=e,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=Ce(this.currentTarget,this.target))}deletes(t){return ft(this.transaction.deleteSet,t.id)}get keys(){if(null===this._keys){if(0===this.transaction.doc._transactionCleanups.length)throw u.a(Ae);const i=new Map,s=this.target;this.transaction.changed.get(s).forEach(t=>{if(null!==t){var n=s._map.get(t);let e,r;if(this.adds(n)){let t=n.left;for(;null!==t&&this.adds(t);)t=t.left;if(this.deletes(n)){if(null===t||!this.deletes(t))return;e="delete",r=b.e(t.content.getContent())}else r=null!==t&&this.deletes(t)?(e="update",b.e(t.content.getContent())):void(e="add")}else{if(!this.deletes(n))return;e="delete",r=b.e(n.content.getContent())}i.set(t,{action:e,oldValue:r})}}),this._keys=i}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(null===t){if(0===this.transaction.doc._transactionCleanups.length)throw u.a(Ae);var r=this.target,n=W.a(),i=W.a();const o=[];if(t={added:n,deleted:i,delta:o,keys:this.keys},this.transaction.changed.get(r).has(null)){let e=null;var s=()=>{e&&o.push(e)};for(let t=r._start;null!==t;t=t.right)t.deleted?this.deletes(t)&&!this.adds(t)&&(null!==e&&void 0!==e.delete||(s(),e={delete:0}),e.delete+=t.length,i.add(t)):this.adds(t)?(null!==e&&void 0!==e.insert||(s(),e={insert:[]}),e.insert=e.insert.concat(t.content.getContent()),n.add(t)):(null!==e&&void 0!==e.retain||(s(),e={retain:0}),e.retain+=t.length);null!==e&&void 0===e.retain&&s()}this._changes=t}return t}}const Ce=(t,r)=>{for(var n=[];null!==r._item&&r!==t;){if(null!==r._item.parentSub)n.unshift(r._item.parentSub);else{let t=0,e=r._item.parent._start;for(;e!==r._item&&null!==e;)e.deleted||t++,e=e.right;n.unshift(t)}r=r._item.parent}return n},Oe=80;let De=0;class Ie{constructor(t,e){t.marker=!0,this.p=t,this.index=e,this.timestamp=De++}}const Te=t=>{t.timestamp=De++},Me=(t,e,r)=>{t.p.marker=!1,(t.p=e).marker=!0,t.index=r,t.timestamp=De++},je=(t,e,r)=>{var n;return t.length>=Oe?(n=t.reduce((t,e)=>t.timestamp<e.timestamp?t:e),Me(n,e,r),n):(n=new Ie(e,r),t.push(n),n)},Re=(t,r)=>{if(null===t._start||0===r||null===t._searchMarker)return null;var e=0===t._searchMarker.length?null:t._searchMarker.reduce((t,e)=>d.a(r-t.index)<d.a(r-e.index)?t:e);let n=t._start,i=0;for(null!==e&&(n=e.p,i=e.index,Te(e));null!==n.right&&i<r;){if(!n.deleted&&n.countable){if(r<i+n.length)break;i+=n.length}n=n.right}for(;null!==n.left&&i>r;)!(n=n.left).deleted&&n.countable&&(i-=n.length);for(;null!==n.left&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)!(n=n.left).deleted&&n.countable&&(i-=n.length);return null!==e&&d.a(e.index-i)<n.parent.length/Oe?(Me(e,n,i),e):je(t._searchMarker,n,i)},Pe=(r,t,n)=>{for(let e=r.length-1;0<=e;e--){var i=r[e];if(0<n){let t=i.p;for(t.marker=!1;t&&(t.deleted||!t.countable);)(t=t.left)&&!t.deleted&&t.countable&&(i.index-=t.length);if(null===t||!0===t.marker){r.splice(e,1);continue}(i.p=t).marker=!0}(t<i.index||0<n&&t===i.index)&&(i.index=d.g(t,i.index+n))}};const Ue=(t,e,r)=>{for(var n=t,i=e.changedParentTypes;v.e(i,t,()=>[]).push(r),null!==t._item;)t=t._item.parent;Wt(n._eH,r,e)};class C{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Ft(),this._dEH=Ft(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,e){this.doc=t,this._item=e}_copy(){throw u.b()}clone(){throw u.b()}_write(t){}get _first(){let t=this._start;for(;null!==t&&t.deleted;)t=t.right;return t}_callObserver(t,e){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){Jt(this._eH,t)}observeDeep(t){Jt(this._dEH,t)}unobserve(t){Yt(this._eH,t)}unobserveDeep(t){Yt(this._dEH,t)}toJSON(){}}const Le=(t,e,r)=>{e<0&&(e=t._length+e);let n=(r=r<0?t._length+r:r)-e;var i=[];let s=t._start;for(;null!==s&&0<n;){if(s.countable&&!s.deleted){var o=s.content.getContent();if(o.length<=e)e-=o.length;else{for(let t=e;t<o.length&&0<n;t++)i.push(o[t]),n--;e=0}}s=s.right}return i},Ne=t=>{var e=[];let r=t._start;for(;null!==r;){if(r.countable&&!r.deleted){var n=r.content.getContent();for(let t=0;t<n.length;t++)e.push(n[t])}r=r.right}return e};const Be=(e,r)=>{let n=0,t=e._start;for(;null!==t;){if(t.countable&&!t.deleted){var i=t.content.getContent();for(let t=0;t<i.length;t++)r(i[t],n++,e)}t=t.right}},qe=(r,n)=>{const i=[];return Be(r,(t,e)=>{i.push(n(t,e,r))}),i},Fe=(t,e)=>{var r=Re(t,e);let n=t._start;for(null!==r&&(n=r.p,e-=r.index);null!==n;n=n.right)if(!n.deleted&&n.countable){if(e<n.length)return n.content.getContent()[e];e-=n.length}},Je=(e,r,t,n)=>{let i=t;var s=e.doc;const o=s.clientID,a=s.store,c=null===t?r._start:t.right;let l=[];const u=()=>{0<l.length&&((i=new R(_(o,k(a,o)),i,i&&i.lastId,c,c&&c.id,r,null,new Er(l))).integrate(e,0),l=[])};n.forEach(t=>{if(null===t)l.push(t);else switch(t.constructor){case Number:case Object:case Boolean:case Array:case String:l.push(t);break;default:switch(u(),t.constructor){case Uint8Array:case ArrayBuffer:(i=new R(_(o,k(a,o)),i,i&&i.lastId,c,c&&c.id,r,null,new vr(new Uint8Array(t)))).integrate(e,0);break;case kt:(i=new R(_(o,k(a,o)),i,i&&i.lastId,c,c&&c.id,r,null,new _r(t))).integrate(e,0);break;default:if(!(t instanceof C))throw new Error("Unexpected content type in insert operation");(i=new R(_(o,k(a,o)),i,i&&i.lastId,c,c&&c.id,r,null,new j(t))).integrate(e,0)}}}),u()},Ye=()=>u.a("Length exceeded!"),We=(t,e,r,n)=>{if(r>e._length)throw Ye();if(0===r)return e._searchMarker&&Pe(e._searchMarker,r,n.length),Je(t,e,null,n);var i=r,s=Re(e,r);let o=e._start;for(null!==s&&(o=s.p,0===(r-=s.index))&&(r+=(o=o.prev)&&o.countable&&!o.deleted?o.length:0);null!==o;o=o.right)if(!o.deleted&&o.countable){if(r<=o.length){r<o.length&&E(t,_(o.id.client,o.id.clock+r));break}r-=o.length}return e._searchMarker&&Pe(e._searchMarker,i,n.length),Je(t,e,o,n)},ze=(e,r,n,i)=>{if(0!==i){var s=n,o=i,a=Re(r,n);let t=r._start;for(null!==a&&(t=a.p,n-=a.index);null!==t&&0<n;t=t.right)!t.deleted&&t.countable&&(n<t.length&&E(e,_(t.id.client,t.id.clock+n)),n-=t.length);for(;0<i&&null!==t;)t.deleted||(i<t.length&&E(e,_(t.id.client,t.id.clock+i)),t.delete(e),i-=t.length),t=t.right;if(0<i)throw Ye();r._searchMarker&&Pe(r._searchMarker,s,-o+i)}},$e=(t,e,r)=>{e=e._map.get(r);void 0!==e&&e.delete(t)},He=(t,e,r,n)=>{var i=e._map.get(r)||null,s=t.doc,o=s.clientID;let a;if(null==n)a=new Er([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:a=new Er([n]);break;case Uint8Array:a=new vr(n);break;case kt:a=new _r(n);break;default:if(!(n instanceof C))throw new Error("Unexpected content type");a=new j(n)}new R(_(o,k(s.store,o)),i,i&&i.lastId,null,null,e,r,a).integrate(t,0)},Ve=(t,e)=>{t=t._map.get(e);return void 0===t||t.deleted?void 0:t.content.getContent()[t.length-1]},Ke=t=>{const r={};return t._map.forEach((t,e)=>{t.deleted||(r[e]=t.content.getContent()[t.length-1])}),r},Ge=(t,e)=>{t=t._map.get(e);return void 0!==t&&!t.deleted};const Xe=t=>{return e=t.entries(),r=t=>!t[1].deleted,at(()=>{let t;for(;!(t=e.next()).done&&!r(t.value););return t});var e,r};class Qe extends xe{constructor(t,e){super(t,e),this._transaction=e}}class s extends C{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){var e=new s;return e.push(t),e}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new s}clone(){var t=new s;return t.insert(0,this.toArray().map(t=>t instanceof C?t.clone():t)),t}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}_callObserver(t,e){super._callObserver(t,e),Ue(this,t,new Qe(this,t))}insert(e,r){null!==this.doc?A(this.doc,t=>{We(t,this,e,r)}):this._prelimContent.splice(e,0,...r)}push(i){null!==this.doc?A(this.doc,e=>{{var r=this,n=i;let t=(r._searchMarker||[]).reduce((t,e)=>e.index>t.index?e:t,{index:0,p:r._start}).p;if(t)for(;t.right;)t=t.right;Je(e,r,t,n)}}):this._prelimContent.push(...i)}unshift(t){this.insert(0,t)}delete(e,r=1){null!==this.doc?A(this.doc,t=>{ze(t,this,e,r)}):this._prelimContent.splice(e,r)}get(t){return Fe(this,t)}toArray(){return Ne(this)}slice(t=0,e=this.length){return Le(this,t,e)}toJSON(){return this.map(t=>t instanceof C?t.toJSON():t)}map(t){return qe(this,t)}forEach(t){Be(this,t)}[Symbol.iterator](){{var t;let e=this._start,r=null,n=0;return{[Symbol.iterator](){return this},next:()=>{if(null===r){for(;null!==e&&e.deleted;)e=e.right;if(null===e)return{done:!0,value:void 0};r=e.content.getContent(),n=0,e=e.right}var t=r[n++];return r.length<=n&&(r=null),{done:!1,value:t}}}}}_write(t){t.writeTypeRef(xr)}}class Ze extends xe{constructor(t,e,r){super(t,e),this.keysChanged=r}}class a extends C{constructor(t){super(),this._prelimContent=null,this._prelimContent=void 0===t?new Map:new Map(t)}_integrate(t,e){super._integrate(t,e),this._prelimContent.forEach((t,e)=>{this.set(e,t)}),this._prelimContent=null}_copy(){return new a}clone(){const r=new a;return this.forEach((t,e)=>{r.set(e,t instanceof C?t.clone():t)}),r}_callObserver(t,e){Ue(this,t,new Ze(this,t,e))}toJSON(){const r={};return this._map.forEach((t,e)=>{t.deleted||(t=t.content.getContent()[t.length-1],r[e]=t instanceof C?t.toJSON():t)}),r}get size(){return[...Xe(this._map)].length}keys(){return ct(Xe(this._map),t=>t[0])}values(){return ct(Xe(this._map),t=>t[1].content.getContent()[t[1].length-1])}entries(){return ct(Xe(this._map),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(r){this._map.forEach((t,e)=>{t.deleted||r(t.content.getContent()[t.length-1],e,this)})}[Symbol.iterator](){return this.entries()}delete(e){null!==this.doc?A(this.doc,t=>{$e(t,this,e)}):this._prelimContent.delete(e)}set(e,r){return null!==this.doc?A(this.doc,t=>{He(t,this,e,r)}):this._prelimContent.set(e,r),r}get(t){return Ve(this,t)}has(t){return Ge(this,t)}clear(){null!==this.doc?A(this.doc,n=>{this.forEach(function(t,e,r){$e(n,r,e)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef(Cr)}}const O=(t,e)=>t===e||"object"==typeof t&&"object"==typeof e&&t&&e&&lt.b(t,e);class tr{constructor(t,e,r,n){this.left=t,this.right=e,this.index=r,this.currentAttributes=n}forward(){null===this.right&&u.c(),this.right.content.constructor===T?this.right.deleted||D(this.currentAttributes,this.right.content):this.right.deleted||(this.index+=this.right.length),this.left=this.right,this.right=this.right.right}}const er=(t,e,r)=>{for(;null!==e.right&&0<r;)e.right.content.constructor===T?e.right.deleted||D(e.currentAttributes,e.right.content):e.right.deleted||(r<e.right.length&&E(t,_(e.right.id.client,e.right.id.clock+r)),e.index+=e.right.length,r-=e.right.length),e.left=e.right,e.right=e.right.right;return e},rr=(t,e,r)=>{var n,i=new Map,s=Re(e,r);return s?(n=new tr(s.p.left,s.p,s.index,i),er(t,n,r-s.index)):(n=new tr(null,e._start,0,i),er(t,n,r))},nr=(i,s,o,t)=>{for(;null!==o.right&&(!0===o.right.deleted||o.right.content.constructor===T&&O(t.get(o.right.content.key),o.right.content.value));)o.right.deleted||t.delete(o.right.content.key),o.forward();const a=i.doc,c=a.clientID;t.forEach((t,e)=>{var r=o.left,n=o.right,r=new R(_(c,k(a.store,c)),r,r&&r.lastId,n,n&&n.id,s,null,new T(e,t));r.integrate(i,0),o.right=r,o.forward()})},D=(t,e)=>{var{key:e,value:r}=e;null===r?t.delete(e):t.set(e,r)},ir=(t,e)=>{for(;;){if(null===t.right)break;if(!(t.right.deleted||t.right.content.constructor===T&&O(e[t.right.content.key]||null,t.right.content.value)))break;t.forward()}},sr=(t,e,r,n)=>{var i=t.doc,s=i.clientID,o=new Map;for(const u in n){var a,c=n[u],l=r.currentAttributes.get(u)||null;O(l,c)||(o.set(u,l),{left:l,right:a}=r,r.right=new R(_(s,k(i.store,s)),l,l&&l.lastId,a,a&&a.id,e,null,new T(u,c)),r.right.integrate(t,0),r.forward())}return o},or=(t,e,r,n,i)=>{r.currentAttributes.forEach((t,e)=>{void 0===i[e]&&(i[e]=null)});var s=t.doc,o=s.clientID,a=(ir(r,i),sr(t,e,r,i)),n=new(n.constructor===String?M:n instanceof C?j:kr)(n),{left:c,right:l,index:u}=r;e._searchMarker&&Pe(e._searchMarker,r.index,n.getLength()),(l=new R(_(o,k(s.store,o)),c,c&&c.lastId,l,l&&l.id,e,null,n)).integrate(t,0),r.right=l,r.index=u,r.forward(),nr(t,e,r,a)},ar=(e,r,n,i,t)=>{var s=e.doc,o=s.clientID,a=(ir(n,t),sr(e,r,n,t));t:for(;null!==n.right&&(0<i||0<a.size&&(n.right.deleted||n.right.content.constructor===T));){if(!n.right.deleted)if(n.right.content.constructor===T){var{key:c,value:l}=n.right.content,u=t[c];if(void 0!==u){if(O(u,l))a.delete(c);else{if(0===i)break t;a.set(c,l)}n.right.delete(e)}else n.currentAttributes.set(c,l)}else i<n.right.length&&E(e,_(n.right.id.client,n.right.id.clock+i)),i-=n.right.length;n.forward()}if(0<i){let t="";for(;0<i;i--)t+="\n";n.right=new R(_(o,k(s.store,o)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,r,null,new M(t)),n.right.integrate(e,0),n.forward()}nr(e,r,n,a)},cr=(t,e,r,n,i)=>{let s=e;for(var o,a,c,l,u,h=v.c();s&&(!s.countable||s.deleted);)s.deleted||s.content.constructor!==T||(o=s.content,h.set(o.key,o)),s=s.right;let d=0,f=!1;for(;e!==s;)r===e&&(f=!0),e.deleted||(a=e.content).constructor===T&&({key:c,value:l}=a,u=n.get(c)||null,h.get(c)===a&&u!==l||(e.delete(t),d++,f)||(i.get(c)||null)!==l||u===l||(null===u?i.delete(c):i.set(c,u)),f||e.deleted||D(i,a)),e=e.right;return d},lr=e=>{const a=new Set;var t,r,n=e.doc;for([t,r]of e.afterState.entries()){var i=e.beforeState.get(t)||0;r!==i&&ae(e,n.store.clients.get(t),i,r,t=>{t.deleted||t.content.constructor!==T||t.constructor===I||a.add(t.parent)})}A(n,o=>{dt(e,e.deleteSet,t=>{if(!(t instanceof I||!t.parent._hasFormatting||a.has(t.parent))){var e=t.parent;if(t.content.constructor===T)a.add(e);else{for(var r=o,n=t;n&&n.right&&(n.right.deleted||!n.right.countable);)n=n.right;for(var i,s=new Set;n&&(n.deleted||!n.countable);)n.deleted||n.content.constructor!==T||(i=n.content.key,s.has(i)?n.delete(r):s.add(i)),n=n.left}}});for(const t of a)(s=>{let o=0;A(s.doc,t=>{let e=s._start,r=s._start,n=v.c();for(var i=v.b(n);r;)!1===r.deleted&&(r.content.constructor===T?D(i,r.content):(o+=cr(t,e,r,n,i),n=v.b(i),e=r)),r=r.right}),o})(t)})},ur=(t,e,r)=>{for(var n=r,i=v.b(e.currentAttributes),s=e.right;0<r&&null!==e.right;){if(!1===e.right.deleted)switch(e.right.content.constructor){case j:case kr:case M:r<e.right.length&&E(t,_(e.right.id.client,e.right.id.clock+r)),r-=e.right.length,e.right.delete(t)}e.forward()}s&&cr(t,s,e.right,i,e.currentAttributes);s=(e.left||e.right).parent;return s._searchMarker&&Pe(s._searchMarker,e.index,-n+r),e};class hr extends xe{constructor(t,e,r){super(t,e),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(t=>{null===t?this.childListChanged=!0:this.keysChanged.add(t)})}get changes(){var t;return null===this._changes&&(t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set},this._changes=t),this._changes}get delta(){if(null===this._delta){var t=this.target.doc;const p=[];A(t,t=>{const e=new Map;var r=new Map;let n=this.target._start,i=null;const s={};let o="",a=0,c=0;for(var l=()=>{if(null!==i){let r=null;switch(i){case"delete":0<c&&(r={delete:c}),c=0;break;case"insert":("object"==typeof o||0<o.length)&&(r={insert:o},0<e.size)&&(r.attributes={},e.forEach((t,e)=>{null!==t&&(r.attributes[e]=t)})),o="";break;case"retain":0<a&&(r={retain:a},lt.e(s)||(r.attributes=lt.a({},s))),a=0}r&&p.push(r),i=null}};null!==n;){switch(n.content.constructor){case j:case kr:this.adds(n)?this.deletes(n)||(l(),i="insert",o=n.content.getContent()[0],l()):this.deletes(n)?("delete"!==i&&(l(),i="delete"),c+=1):n.deleted||("retain"!==i&&(l(),i="retain"),a+=1);break;case M:this.adds(n)?this.deletes(n)||("insert"!==i&&(l(),i="insert"),o+=n.content.str):this.deletes(n)?("delete"!==i&&(l(),i="delete"),c+=n.length):n.deleted||("retain"!==i&&(l(),i="retain"),a+=n.length);break;case T:var u,h,{key:d,value:f}=n.content;this.adds(n)?this.deletes(n)||(u=e.get(d)||null,O(u,f)?null!==f&&n.delete(t):("retain"===i&&l(),O(f,r.get(d)||null)?delete s[d]:s[d]=f)):this.deletes(n)?(r.set(d,f),u=e.get(d)||null,O(u,f)||("retain"===i&&l(),s[d]=u)):n.deleted||(r.set(d,f),void 0!==(h=s[d])&&(O(h,f)?null!==h&&n.delete(t):("retain"===i&&l(),null===f?delete s[d]:s[d]=f))),n.deleted||("insert"===i&&l(),D(e,n.content))}n=n.right}for(l();0<p.length;){var g=p[p.length-1];if(void 0===g.retain||void 0!==g.attributes)break;p.pop()}}),this._delta=p}return this._delta}}class c extends C{constructor(t){super(),this._pending=void 0!==t?[()=>this.insert(0,t)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(t,e){super._integrate(t,e);try{this._pending.forEach(t=>t())}catch(t){console.error(t)}this._pending=null}_copy(){return new c}clone(){var t=new c;return t.applyDelta(this.toDelta()),t}_callObserver(t,e){super._callObserver(t,e);e=new hr(this,t,e);Ue(this,t,e),!t.local&&this._hasFormatting&&(t._needFormattingCleanup=!0)}toString(){let t="",e=this._start;for(;null!==e;)!e.deleted&&e.countable&&e.content.constructor===M&&(t+=e.content.str),e=e.right;return t}toJSON(){return this.toString()}applyDelta(s,{sanitize:o=!0}={}){null!==this.doc?A(this.doc,e=>{var r=new tr(null,this._start,0,new Map);for(let t=0;t<s.length;t++){var n,i=s[t];void 0!==i.insert?("string"!=typeof(n=o||"string"!=typeof i.insert||t!==s.length-1||null!==r.right||"\n"!==i.insert.slice(-1)?i.insert:i.insert.slice(0,-1))||0<n.length)&&or(e,this,r,n,i.attributes||{}):void 0!==i.retain?ar(e,this,r,i.retain,i.attributes||{}):void 0!==i.delete&&ur(e,r,i.delete)}}):this._pending.push(()=>this.applyDelta(s))}toDelta(e,n,i){const s=[],o=new Map;var t=this.doc;let a="",c=this._start;function l(){if(0<a.length){const n={};let r=!1;o.forEach((t,e)=>{r=!0,n[e]=t});var t={insert:a};r&&(t.attributes=n),s.push(t),a=""}}const r=()=>{for(;null!==c;){if(h(c,e)||void 0!==n&&h(c,n))switch(c.content.constructor){case M:var t=o.get("ychange");void 0===e||h(c,e)?void 0===n||h(c,n)?void 0!==t&&(l(),o.delete("ychange")):void 0!==t&&t.user===c.id.client&&"added"===t.type||(l(),o.set("ychange",i?i("added",c.id):{type:"added"})):void 0!==t&&t.user===c.id.client&&"removed"===t.type||(l(),o.set("ychange",i?i("removed",c.id):{type:"removed"})),a+=c.content.str;break;case j:case kr:l();t={insert:c.content.getContent()[0]};if(0<o.size){const r={};t.attributes=r,o.forEach((t,e)=>{r[e]=t})}s.push(t);break;case T:h(c,e)&&(l(),D(o,c.content))}c=c.right}l()};return e||n?A(t,t=>{e&&te(t,e),n&&te(t,n),r()},"cleanup"):r(),s}insert(r,n,i){var t;n.length<=0||(null!==(t=this.doc)?A(t,t=>{var e=rr(t,this,r);i||(i={},e.currentAttributes.forEach((t,e)=>{i[e]=t})),or(t,this,e,n,i)}):this._pending.push(()=>this.insert(r,n,i)))}insertEmbed(r,n,i={}){var t=this.doc;null!==t?A(t,t=>{var e=rr(t,this,r);or(t,this,e,n,i)}):this._pending.push(()=>this.insertEmbed(r,n,i))}delete(e,r){var t;0!==r&&(null!==(t=this.doc)?A(t,t=>{ur(t,rr(t,this,e),r)}):this._pending.push(()=>this.delete(e,r)))}format(r,n,i){var t;0!==n&&(null!==(t=this.doc)?A(t,t=>{var e=rr(t,this,r);null!==e.right&&ar(t,this,e,n,i)}):this._pending.push(()=>this.format(r,n,i)))}removeAttribute(e){null!==this.doc?A(this.doc,t=>{$e(t,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,r){null!==this.doc?A(this.doc,t=>{He(t,this,e,r)}):this._pending.push(()=>this.setAttribute(e,r))}getAttribute(t){return Ve(this,t)}getAttributes(){return Ke(this)}_write(t){t.writeTypeRef(Or)}}class dr{constructor(t,e=()=>!0){this._filter=e,this._root=t,this._currentNode=t._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let t=this._currentNode,e=t&&t.content&&t.content.type;if(null!==t&&(!this._firstCall||t.deleted||!this._filter(e)))do{if(e=t.content.type,t.deleted||e.constructor!==fr&&e.constructor!==l||null===e._start)for(;null!==t;){if(null!==t.right){t=t.right;break}t=t.parent===this._root?null:t.parent._item}else t=e._start}while(null!==t&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,null===t?{value:void 0,done:!0}:{value:(this._currentNode=t).content.type,done:!1}}}class l extends C{constructor(){super(),this._prelimContent=[]}get firstChild(){var t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new l}clone(){var t=new l;return t.insert(0,this.toArray().map(t=>t instanceof C?t.clone():t)),t}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}createTreeWalker(t){return new dr(this,t)}querySelector(e){e=e.toUpperCase();var t=new dr(this,t=>t.nodeName&&t.nodeName.toUpperCase()===e).next();return t.done?null:t.value}querySelectorAll(e){return e=e.toUpperCase(),b.c(new dr(this,t=>t.nodeName&&t.nodeName.toUpperCase()===e))}_callObserver(t,e){Ue(this,t,new gr(this,e,t))}toString(){return qe(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,r={},n){const i=e.createDocumentFragment();return void 0!==n&&n._createAssociation(i,this),Be(this,t=>{i.insertBefore(t.toDOM(e,r,n),null)}),i}insert(e,r){null!==this.doc?A(this.doc,t=>{We(t,this,e,r)}):this._prelimContent.splice(e,0,...r)}insertAfter(r,n){if(null!==this.doc)A(this.doc,t=>{var e=r&&r instanceof C?r._item:r;Je(t,this,e,n)});else{var t=this._prelimContent,e=null===r?0:t.findIndex(t=>t===r)+1;if(0===e&&null!==r)throw u.a("Reference item not found");t.splice(e,0,...n)}}delete(e,r=1){null!==this.doc?A(this.doc,t=>{ze(t,this,e,r)}):this._prelimContent.splice(e,r)}toArray(){return Ne(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return Fe(this,t)}slice(t=0,e=this.length){return Le(this,t,e)}forEach(t){Be(this,t)}_write(t){t.writeTypeRef(Ir)}}class fr extends l{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){var t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){var t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,e){super._integrate(t,e),this._prelimAttrs.forEach((t,e)=>{this.setAttribute(e,t)}),this._prelimAttrs=null}_copy(){return new fr(this.nodeName)}clone(){const r=new fr(this.nodeName);var t=this.getAttributes();return lt.c(t,(t,e)=>{"string"==typeof t&&r.setAttribute(e,t)}),r.insert(0,this.toArray().map(t=>t instanceof C?t.clone():t)),r}toString(){var e=this.getAttributes(),r=[],n=[];for(const o in e)n.push(o);n.sort();var i=n.length;for(let t=0;t<i;t++){var s=n[t];r.push(s+'="'+e[s]+'"')}var t=this.nodeName.toLocaleLowerCase();return`<${t}${0<r.length?" "+r.join(" "):""}>${super.toString()}</${t}>`}removeAttribute(e){null!==this.doc?A(this.doc,t=>{$e(t,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,r){null!==this.doc?A(this.doc,t=>{He(t,this,e,r)}):this._prelimAttrs.set(e,r)}getAttribute(t){return Ve(this,t)}hasAttribute(t){return Ge(this,t)}getAttributes(t){if(t){var n=t;const i={};return this._map.forEach((t,e)=>{let r=t;for(;null!==r&&(!n.sv.has(r.id.client)||r.id.clock>=(n.sv.get(r.id.client)||0));)r=r.left;null!==r&&h(r,n)&&(i[e]=r.content.getContent()[r.length-1])}),i}return Ke(this)}toDOM(e=document,r={},n){const i=e.createElement(this.nodeName);var t=this.getAttributes();for(const o in t){var s=t[o];"string"==typeof s&&i.setAttribute(o,s)}return Be(this,t=>{i.appendChild(t.toDOM(e,r,n))}),void 0!==n&&n._createAssociation(i,this),i}_write(t){t.writeTypeRef(Dr),t.writeKey(this.nodeName)}}class gr extends xe{constructor(t,e,r){super(t,r),this.childListChanged=!1,this.attributesChanged=new Set,e.forEach(t=>{null===t?this.childListChanged=!0:this.attributesChanged.add(t)})}}class pr extends a{constructor(t){super(),this.hookName=t}_copy(){return new pr(this.hookName)}clone(){const r=new pr(this.hookName);return this.forEach((t,e)=>{r.set(e,t)}),r}toDOM(t=document,e={},r){e=e[this.hookName];let n;return(n=void 0!==e?e.createDom(this):document.createElement(this.hookName)).setAttribute("data-yjs-hook",this.hookName),void 0!==r&&r._createAssociation(n,this),n}_write(t){t.writeTypeRef(Tr),t.writeKey(this.hookName)}}class mr extends c{get nextSibling(){var t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){var t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new mr}clone(){var t=new mr;return t.applyDelta(this.toDelta()),t}toDOM(t=document,e,r){t=t.createTextNode(this.toString());return void 0!==r&&r._createAssociation(t,this),t}toString(){return this.toDelta().map(t=>{var e=[];for(const o in t.attributes){var r=[];for(const a in t.attributes[o])r.push({key:a,value:t.attributes[o][a]});r.sort((t,e)=>t.key<e.key?-1:1),e.push({nodeName:o,attrs:r})}e.sort((t,e)=>t.nodeName<e.nodeName?-1:1);let n="";for(let t=0;t<e.length;t++){var i=e[t];n+="<"+i.nodeName;for(let t=0;t<i.attrs.length;t++){var s=i.attrs[t];n+=` ${s.key}="${s.value}"`}n+=">"}n+=t.insert;for(let t=e.length-1;0<=t;t--)n+=`</${e[t].nodeName}>`;return n}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(Mr)}}class br{constructor(t,e){this.id=t,this.length=e}get deleted(){throw u.b()}mergeWith(t){return!1}write(t,e,r){throw u.b()}integrate(t,e){throw u.b()}}class I extends br{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor===t.constructor&&(this.length+=t.length,!0)}integrate(t,e){0<e&&(this.id.clock+=e,this.length-=e),ne(t.doc.store,this)}write(t,e){t.writeInfo(0),t.writeLen(this.length-e)}getMissing(t,e){return null}}class vr{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new vr(this.content)}splice(t){throw u.b()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeBuf(this.content)}getRef(){return 3}}class yr{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new yr(this.len)}splice(t){var e=new yr(this.len-t);return this.len=t,e}mergeWith(t){return this.len+=t.len,!0}integrate(t,e){mt(t.deleteSet,e.id.client,e.id.clock,this.len),e.markDeleted()}delete(t){}gc(t){}write(t,e){t.writeLen(this.len-e)}getRef(){return 1}}const wr=(t,e)=>new kt({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class _r{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;var e={};this.opts=e,t.gc||(e.gc=!1),t.autoLoad&&(e.autoLoad=!0),null!==t.meta&&(e.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new _r(wr(this.doc.guid,this.opts))}splice(t){throw u.b()}mergeWith(t){return!1}integrate(t,e){this.doc._item=e,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,e){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}class kr{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new kr(this.embed)}splice(t){throw u.b()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeJSON(this.embed)}getRef(){return 5}}class T{constructor(t,e){this.key=t,this.value=e}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new T(this.key,this.value)}splice(t){throw u.b()}mergeWith(t){return!1}integrate(t,e){e=e.parent;e._searchMarker=null,e._hasFormatting=!0}delete(t){}gc(t){}write(t,e){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}class Sr{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Sr(this.arr)}splice(t){var e=new Sr(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(e,r){var n=this.arr.length;e.writeLen(n-r);for(let t=r;t<n;t++){var i=this.arr[t];e.writeString(void 0===i?"undefined":JSON.stringify(i))}}getRef(){return 2}}class Er{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Er(this.arr)}splice(t){var e=new Er(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(e,r){var n=this.arr.length;e.writeLen(n-r);for(let t=r;t<n;t++){var i=this.arr[t];e.writeAny(i)}}getRef(){return 8}}class M{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new M(this.str)}splice(t){var e=new M(this.str.slice(t)),r=(this.str=this.str.slice(0,t),this.str.charCodeAt(t-1));return 55296<=r&&r<=56319&&(this.str=this.str.slice(0,t-1)+"�",e.str="�"+e.str.slice(1)),e}mergeWith(t){return this.str+=t.str,!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeString(0===e?this.str:this.str.slice(e))}getRef(){return 4}}const Ar=[t=>new s,t=>new a,t=>new c,t=>new fr(t.readKey()),t=>new l,t=>new pr(t.readKey()),t=>new mr],xr=0,Cr=1,Or=2,Dr=3,Ir=4,Tr=5,Mr=6;class j{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new j(this.type._copy())}splice(t){throw u.b()}mergeWith(t){return!1}integrate(t,e){this.type._integrate(t.doc,e)}delete(e){let t=this.type._start;for(;null!==t;)t.deleted?t.id.clock<(e.beforeState.get(t.id.client)||0)&&e._mergeStructs.push(t):t.delete(e),t=t.right;this.type._map.forEach(t=>{t.deleted?t.id.clock<(e.beforeState.get(t.id.client)||0)&&e._mergeStructs.push(t):t.delete(e)}),e.changed.delete(this.type)}gc(e){let t=this.type._start;for(;null!==t;)t.gc(e,!0),t=t.right;this.type._start=null,this.type._map.forEach(t=>{for(;null!==t;)t.gc(e,!0),t=t.left}),this.type._map=new Map}write(t,e){this.type._write(t)}getRef(){return 7}}const jr=(t,e)=>{let r=e,n=0,i;for(;0<n&&(r=_(r.client,r.clock+n)),i=ie(t,r),n=r.clock-i.id.clock,null!==(r=i.redone)&&i instanceof R;);return{item:i,diff:n}},Rr=(t,e,r)=>{var{client:n,clock:i}=e.id,n=new R(_(n,i+r),e,_(n,i+r-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(r));return e.deleted&&n.markDeleted(),e.keep&&(n.keep=!0),null!==e.redone&&(n.redone=_(e.redone.client,e.redone.clock+r)),null!==(e.right=n).right&&(n.right.left=n),t._mergeStructs.push(n),null!==n.parentSub&&null===n.right&&n.parent._map.set(n.parentSub,n),e.length=r,n};class R extends br{constructor(t,e,r,n,i,s,o,a){super(t,a.getLength()),this.origin=r,this.left=e,this.right=n,this.rightOrigin=i,this.parent=s,this.parentSub=o,this.redone=null,this.content=a,this.info=this.content.isCountable()?g.b:0}set marker(t){0<(this.info&g.d)!==t&&(this.info^=g.d)}get marker(){return 0<(this.info&g.d)}get keep(){return 0<(this.info&g.a)}set keep(t){this.keep!==t&&(this.info^=g.a)}get countable(){return 0<(this.info&g.b)}get deleted(){return 0<(this.info&g.c)}set deleted(t){this.deleted!==t&&(this.info^=g.c)}markDeleted(){this.info|=g.c}getMissing(t,e){return this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=k(e,this.origin.client)?this.origin.client:this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=k(e,this.rightOrigin.client)?this.rightOrigin.client:this.parent&&this.parent.constructor===o&&this.id.client!==this.parent.client&&this.parent.clock>=k(e,this.parent.client)?this.parent.client:(this.origin&&(this.left=oe(t,e,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=E(t,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===I||this.right&&this.right.constructor===I?this.parent=null:this.parent?this.parent.constructor===o&&((t=ie(e,this.parent)).constructor===I?this.parent=null:this.parent=t.content.type):(this.left&&this.left.constructor===R&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===R&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub)),null)}integrate(r,t){if(0<t&&(this.id.clock+=t,this.left=oe(r,r.doc.store,_(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){let t=this.left,e;if(null!==t)e=t.right;else if(null!==this.parentSub)for(e=this.parent._map.get(this.parentSub)||null;null!==e&&null!==e.left;)e=e.left;else e=this.parent._start;for(var n=new Set,i=new Set;null!==e&&e!==this.right;){if(i.add(e),n.add(e),zt(this.origin,e.origin)){if(e.id.client<this.id.client)t=e,n.clear();else if(zt(this.rightOrigin,e.rightOrigin))break}else{if(null===e.origin||!i.has(ie(r.doc.store,e.origin)))break;n.has(ie(r.doc.store,e.origin))||(t=e,n.clear())}e=e.right}this.left=t}if(null!==this.left){t=this.left.right;this.right=t,this.left.right=this}else{let t;if(null!==this.parentSub)for(t=this.parent._map.get(this.parentSub)||null;null!==t&&null!==t.left;)t=t.left;else t=this.parent._start,this.parent._start=this;this.right=t}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left)&&this.left.delete(r),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),ne(r.doc.store,this),this.content.integrate(r,this),ue(r,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(r)}else new I(this.id,this.length).integrate(r,0)}get next(){let t=this.right;for(;null!==t&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;null!==t&&t.deleted;)t=t.left;return t}get lastId(){return 1===this.length?this.id:_(this.id.client,this.id.clock+this.length-1)}mergeWith(e){var t;return!!(this.constructor===e.constructor&&zt(e.origin,this.lastId)&&this.right===e&&zt(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&null===this.redone&&null===e.redone&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content))&&((t=this.parent._searchMarker)&&t.forEach(t=>{t.p===e&&!(t.p=this).deleted&&this.countable&&(t.index-=this.length)}),e.keep&&(this.keep=!0),this.right=e.right,null!==this.right&&(this.right.left=this),this.length+=e.length,!0)}delete(t){var e;this.deleted||(e=this.parent,this.countable&&null===this.parentSub&&(e._length-=this.length),this.markDeleted(),mt(t.deleteSet,this.id.client,this.id.clock,this.length),ue(t,e,this.parentSub),this.content.delete(t))}gc(t,e){if(!this.deleted)throw u.c();var r;this.content.gc(t),e?(e=t,t=this,r=new I(this.id,this.length),(e=e.clients.get(t.id.client))[S(e,t.id.clock)]=r):this.content=new yr(this.length)}write(t,e){var r=0<e?_(this.id.client,this.id.clock+e-1):this.origin,n=this.rightOrigin,i=this.parentSub,s=this.content.getRef()&g.k|(null===r?0:g.g)|(null===n?0:g.f)|(null===i?0:g.e);t.writeInfo(s),null!==r&&t.writeLeftID(r),null!==n&&t.writeRightID(n),null===r&&null===n&&(void 0!==(s=this.parent)._item?null===(r=s._item)?(n=$t(s),t.writeParentInfo(!0),t.writeString(n)):(t.writeParentInfo(!1),t.writeLeftID(r.id)):s.constructor===String?(t.writeParentInfo(!0),t.writeString(s)):s.constructor===o?(t.writeParentInfo(!1),t.writeLeftID(s)):u.c(),null!==i)&&t.writeString(i),this.content.write(t,e)}}const Pr=(t,e)=>Ur[e&g.k](t),Ur=[()=>{u.c()},t=>new yr(t.readLen()),e=>{var r=e.readLen(),n=[];for(let t=0;t<r;t++){var i=e.readString();n.push("undefined"===i?void 0:JSON.parse(i))}return new Sr(n)},t=>new vr(t.readBuf()),t=>new M(t.readString()),t=>new kr(t.readJSON()),t=>new T(t.readKey(),t.readJSON()),t=>new j(Ar[t.readTypeRef()](t)),e=>{var r=e.readLen(),n=[];for(let t=0;t<r;t++)n.push(e.readAny());return new Er(n)},t=>new _r(wr(t.readString(),t.readAny())),()=>{u.c()}];class P extends br{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor===t.constructor&&(this.length+=t.length,!0)}integrate(t,e){u.c()}write(t,e){t.writeInfo(10),y.p(t.restEncoder,this.length-e)}getMissing(t,e){return null}}i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},q="__ $YJS$ __";!0===i[q]&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),i[q]=!0},function(t,e,r){"use strict";r.d(e,"e",function(){return n}),r.d(e,"a",function(){return i}),r.d(e,"c",function(){return s}),r.d(e,"g",function(){return o}),r.d(e,"b",function(){return a}),r.d(e,"h",function(){return c}),r.d(e,"d",function(){return l}),r.d(e,"f",function(){return u});r(24);const n=t=>t[t.length-1];const i=(e,r)=>{for(let t=0;t<r.length;t++)e.push(r[t])},s=Array.from,o=(e,r)=>{for(let t=0;t<e.length;t++)if(r(e[t],t,e))return!0;return!1},a=(t,r)=>t.length===r.length&&((e,r)=>{for(let t=0;t<e.length;t++)if(!r(e[t],t,e))return!1;return!0})(t,(t,e)=>t===r[e]);const c=(e,r)=>{var n=new Array(e);for(let t=0;t<e;t++)n[t]=r(t,n);return n},l=Array.isArray;const u=(e,r)=>{var n=Array(e.length);for(let t=0;t<e.length;t++)n[t]=r(e[t],t,e);return n}},function(t,e,r){t.exports=r(67)},,,function(t,e){var r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},,function(t,e){var r,n,t=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}function o(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return(r=setTimeout)(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}var a,c=[],l=!1,u=-1;function h(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length)&&d()}function d(){if(!l){for(var t=o(h),e=(l=!0,c.length);e;){for(a=c,c=[];++u<e;)a&&a[u].run();u=-1,e=c.length}a=null,l=!1,!function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return(n=clearTimeout)(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new f(t,e)),1!==c.length||l||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=g,t.addListener=g,t.once=g,t.off=g,t.removeListener=g,t.removeAllListeners=g,t.emit=g,t.prependListener=g,t.prependOnceListener=g,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(t,e,r){"use strict";r.d(e,"d",function(){return i}),r.d(e,"c",function(){return a}),r.d(e,"g",function(){return c}),r.d(e,"b",function(){return l}),r.d(e,"f",function(){return u}),r.d(e,"a",function(){return h}),r.d(e,"e",function(){return d});var n=r(12);const i=String.fromCharCode;String.fromCodePoint,i(65535);const s=/^\s*/g,o=/([A-Z])/g,a=(t,e)=>{return t.replace(o,t=>""+e+t.toLowerCase()).replace(s,"")};const c="undefined"!=typeof TextEncoder?new TextEncoder:null;const l=c?t=>c.encode(t):t=>{var e=unescape(encodeURIComponent(t)),r=e.length,n=new Uint8Array(r);for(let t=0;t<r;t++)n[t]=e.codePointAt(t);return n};let u="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});const h=(u=u&&1===u.decode(new Uint8Array).length?null:u)?t=>u.decode(t):t=>{let e=t.length,r="",n=0;for(;0<e;){var i=e<1e4?e:1e4,s=t.subarray(n,n+i);n+=i,r+=String.fromCodePoint.apply(null,s),e-=i}return decodeURIComponent(escape(r))};const d=(t,e)=>n.h(e,()=>t).join("")},function(t,e,r){"use strict";r.d(e,"a",function(){return n});r(5);const n=Date.now},,function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"f",function(){return i}),r.d(e,"d",function(){return o}),r.d(e,"c",function(){return a}),r.d(e,"b",function(){return c}),r.d(e,"e",function(){return l});var e=r(12),s=r(29);const n=(t,e,r=0)=>{try{for(;r<t.length;r++)t[r](...e)}finally{r<t.length&&n(t,e,r+1)}},i=()=>{};const o=t=>t,a=(t,e)=>t===e;const c=(e,r)=>{if(null==e||null==r)return a(e,r);if(e.constructor!==r.constructor)return!1;if(e!==r)switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),r=new Uint8Array(r);case Uint8Array:if(e.byteLength!==r.byteLength)return!1;for(let t=0;t<e.length;t++)if(e[t]!==r[t])return!1;break;case Set:if(e.size!==r.size)return!1;for(const t of e)if(!r.has(t))return!1;break;case Map:if(e.size!==r.size)return!1;for(const n of e.keys())if(!r.has(n)||!c(e.get(n),r.get(n)))return!1;break;case Object:if(s.f(e)!==s.f(r))return!1;for(const i in e)if(!s.d(e,i)||!c(e[i],r[i]))return!1;break;case Array:if(e.length!==r.length)return!1;for(let t=0;t<e.length;t++)if(!c(e[t],r[t]))return!1;break;default:return!1}return!0},l=(t,e)=>e.includes(t);e.d},,function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"b",function(){return i});const n=()=>new Set;const i=t=>new Set(t)},,,,,function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"c",function(){return s}),r.d(e,"g",function(){return o}),r.d(e,"f",function(){return a}),r.d(e,"e",function(){return c}),r.d(e,"d",function(){return l}),r.d(e,"b",function(){return u});const n=Object.assign,i=Object.keys,s=(t,e)=>{for(const r in t)e(t[r],r)},o=(t,e)=>{var r=[];for(const n in t)r.push(e(t[n],n));return r},a=t=>i(t).length;const c=t=>{for(const e in t)return!1;return!0},l=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),u=(t,r)=>t===r||a(t)===a(r)&&((t,e)=>{for(const r in t)if(!e(t[r],r))return!1;return!0})(t,(t,e)=>(void 0!==t||l(r,e))&&r[e]===t)},function(c,t,l){"use strict";!function(t){var i=l(7),s=l(72),n=l(43),e={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var r,a={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:r="undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t)?l(44):r,transformRequest:[function(t,e){if(s(e,"Accept"),s(e,"Content-Type"),!(i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t))){if(i.isArrayBufferView(t))return t.buffer;if(i.isURLSearchParams(t))return o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();if(i.isObject(t)||e&&"application/json"===e["Content-Type"]){o(e,"application/json");var e=t,r=void 0,n=void 0;if(i.isString(e))try{return(r||JSON.parse)(e),i.trim(e)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||JSON.stringify)(e)}}return t}],transformResponse:[function(t){var e=this.transitional,r=e&&e.silentJSONParsing,e=e&&e.forcedJSONParsing,r=!r&&"json"===this.responseType;if(r||e&&i.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(r){if("SyntaxError"===t.name)throw n(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return 200<=t&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(t){a.headers[t]={}}),i.forEach(["post","put","patch"],function(t){a.headers[t]=i.merge(e)}),c.exports=a}.call(this,l(18))},,,,function(t,e,r){var o;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var t="",e=0;e<arguments.length;e++){var r=arguments[e];r&&(t=s(t,function(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!=typeof t)return"";if(Array.isArray(t))return i.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e,r="";for(e in t)n.call(t,e)&&t[e]&&(r=s(r,e));return r}(r)))}return t}function s(t,e){return e?t?t+" "+e:t+e:t}t.exports?t.exports=i.default=i:void 0!==(o=function(){return i}.apply(e,[]))&&(t.exports=o)}()},function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"d",function(){return s}),r.d(e,"c",function(){return o}),r.d(e,"b",function(){return a});var l=r(1),p=r(2),m=r(20),n=r(5),e=r(49),b=r(22);class i extends e.a{constructor(t){super(),this.doc=t,this.clientID=t.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const r=m.a(),n=(null!==this.getLocalState()&&15e3<=r-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState()),[]);this.meta.forEach((t,e)=>{e!==this.clientID&&3e4<=r-t.lastUpdated&&this.states.has(e)&&n.push(e)}),0<n.length&&s(this,n,"timeout")},n.d(3e3)),t.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(t){var e=this.clientID,r=this.meta.get(e),r=void 0===r?0:r.clock+1,n=this.states.get(e),r=(null===t?this.states.delete(e):this.states.set(e,t),this.meta.set(e,{clock:r,lastUpdated:m.a()}),[]),i=[],s=[],o=[];null===t?o.push(e):null==n?null!=t&&r.push(e):(i.push(e),b.b(n,t)||s.push(e)),(0<r.length||0<s.length||0<o.length)&&this.emit("change",[{added:r,updated:s,removed:o},"local"]),this.emit("update",[{added:r,updated:i,removed:o},"local"])}setLocalStateField(t,e){var r=this.getLocalState();null!==r&&this.setLocalState({...r,[t]:e})}getStates(){return this.states}}const s=(e,r,t)=>{var n=[];for(let t=0;t<r.length;t++){var i,s=r[t];e.states.has(s)&&(e.states.delete(s),s===e.clientID&&(i=e.meta.get(s),e.meta.set(s,{clock:i.clock+1,lastUpdated:m.a()})),n.push(s))}0<n.length&&(e.emit("change",[{added:[],updated:[],removed:n},t]),e.emit("update",[{added:[],updated:[],removed:n},t]))},o=(e,r,n=e.states)=>{var i=r.length,s=l.e();l.p(s,i);for(let t=0;t<i;t++){var o=r[t],a=n.get(o)||null,c=e.meta.get(o).clock;l.p(s,o),l.p(s,c),l.o(s,JSON.stringify(a))}return l.h(s)};const a=(e,t,r)=>{var n=p.e(t),i=m.a(),s=[],o=[],a=[],c=[],l=p.k(n);for(let t=0;t<l;t++){var u=p.k(n);let t=p.k(n);var h=JSON.parse(p.j(n)),d=e.meta.get(u),f=e.states.get(u),g=void 0===d?0:d.clock;(g<t||g===t&&null===h&&e.states.has(u))&&(null===h?u===e.clientID&&null!=e.getLocalState()?t++:e.states.delete(u):e.states.set(u,h),e.meta.set(u,{clock:t,lastUpdated:i}),void 0===d&&null!==h?s.push(u):void 0!==d&&null===h?c.push(u):null!==h&&(b.b(h,f)||a.push(u),o.push(u)))}(0<s.length||0<a.length||0<c.length)&&e.emit("change",[{added:s,updated:a,removed:c},r]),(0<s.length||0<o.length||0<c.length)&&e.emit("update",[{added:s,updated:o,removed:c},r])}},function(t,M,j){"use strict";!function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var E=j(85),s=j(86),a=j(87);function r(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=h.prototype:(t=null===t?new h(e):t).length=e,t}function h(t,e,r){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(t,e,r);if("number"!=typeof t)return n(this,t,e,r);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return o(this,t)}function n(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){var i=t,s=e,o=r;if(s.byteLength,o<0||s.byteLength<o)throw new RangeError("'offset' is out of bounds");if(s.byteLength<o+(n||0))throw new RangeError("'length' is out of bounds");return s=void 0===o&&void 0===n?new Uint8Array(s):void 0===n?new Uint8Array(s,o):new Uint8Array(s,o,n),h.TYPED_ARRAY_SUPPORT?(i=s).__proto__=h.prototype:i=l(i,s),i}if("string"!=typeof e){o=t,n=e;if(h.isBuffer(n))return s=0|u(n.length),0!==(o=c(o,s)).length&&n.copy(o,0,0,s),o;if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||function(t){return t!=t}(n.length)?c(o,0):l(o,n);if("Buffer"===n.type&&a(n.data))return l(o,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}i=t,n=e,t=r;if(h.isEncoding(t="string"==typeof t&&""!==t?t:"utf8"))return e=0|d(n,t),i=(n=(i=c(i,e)).write(n,t))!==e?i.slice(0,n):i;throw new TypeError('"encoding" must be a valid string encoding')}function i(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function o(t,e){if(i(e),t=c(t,e<0?0:0|u(e)),!h.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function l(t,e){var r=e.length<0?0:0|u(e.length);t=c(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function u(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function d(t,e){if(h.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;var r=(t="string"!=typeof t?""+t:t).length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return D(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return I(t).length;default:if(n)return D(t).length;e=(""+e).toLowerCase(),n=!0}}function e(t,e,r){var n,i=!1;if((e=void 0===e||e<0?0:e)>this.length)return"";if((r=void 0===r||r>this.length?this.length:r)<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":var s=this,o=e,a=r,c=s.length;(!a||a<0||c<a)&&(a=c);for(var l="",u=o=!o||o<0?0:o;u<a;++u)l+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(s[u]);return l;case"utf8":case"utf-8":return A(this,e,r);case"ascii":var h=this,c=e,d=r,f="";d=Math.min(h.length,d);for(var g=c;g<d;++g)f+=String.fromCharCode(127&h[g]);return f;case"latin1":case"binary":var p=this,o=e,m=r,b="";m=Math.min(p.length,m);for(var v=o;v<m;++v)b+=String.fromCharCode(p[v]);return b;case"base64":return y=this,n=r,0===(w=e)&&n===y.length?E.fromByteArray(y):E.fromByteArray(y.slice(w,n));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var y=e,w=r,_=this.slice(y,w),k="",S=0;S<_.length;S+=2)k+=String.fromCharCode(_[S]+256*_[S+1]);return k;default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function f(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,(r=(r=isNaN(r)?i?0:t.length-1:r)<0?t.length+r:r)>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=h.from(e,n)),h.isBuffer(e))return 0===e.length?-1:p(t,e,r,n,i);if("number"==typeof e)return e&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(i?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,e,r):p(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function p(t,e,r,n,i){var s=1,o=t.length,a=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o/=s=2,a/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i)for(var l=-1,u=r;u<o;u++)if(c(t,u)===c(e,-1===l?0:u-l)){if(u-(l=-1===l?u:l)+1===a)return l*s}else-1!==l&&(u-=u-l),l=-1;else for(u=r=o<r+a?o-a:r;0<=u;u--){for(var h=!0,d=0;d<a;d++)if(c(t,u+d)!==c(e,d)){h=!1;break}if(h)return u}return-1}function m(t,e,r,n){return T(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function b(t,e,r,n){return T(function(t,e){for(var r,n,i=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i.push(r%256),i.push(n);return i}(e,t.length-r),t,r,n)}function A(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s,o,a,c,l=t[i],u=null,h=239<l?4:223<l?3:191<l?2:1;if(i+h<=r)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(s=t[i+1]))&&127<(c=(31&l)<<6|63&s)&&(u=c);break;case 3:s=t[i+1],o=t[i+2],128==(192&s)&&128==(192&o)&&2047<(c=(15&l)<<12|(63&s)<<6|63&o)&&(c<55296||57343<c)&&(u=c);break;case 4:s=t[i+1],o=t[i+2],a=t[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&65535<(c=(15&l)<<18|(63&s)<<12|(63&o)<<6|63&a)&&c<1114112&&(u=c)}null===u?(u=65533,h=1):65535<u&&(n.push((u-=65536)>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=h}var d=n,f=d.length;if(f<=v)return String.fromCharCode.apply(String,d);for(var g="",p=0;p<f;)g+=String.fromCharCode.apply(String,d.slice(p,p+=v));return g}M.Buffer=h,M.SlowBuffer=function(t){+t!=t&&(t=0);return h.alloc(+t)},M.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),M.kMaxLength=r(),h.poolSize=8192,h._augment=function(t){return t.__proto__=h.prototype,t},h.from=function(t,e,r){return n(null,t,e,r)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol)&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0}),h.alloc=function(t,e,r){return n=null,e=e,r=r,i(t=t),!(t<=0)&&void 0!==e?"string"==typeof r?c(n,t).fill(e,r):c(n,t).fill(e):c(n,t);var n},h.allocUnsafe=function(t){return o(null,t)},h.allocUnsafeSlow=function(t){return o(null,t)},h.isBuffer=function(t){return!(null==t||!t._isBuffer)},h.compare=function(t,e){if(!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!a(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);if(void 0===e)for(i=e=0;i<t.length;++i)e+=t[i].length;for(var r=h.allocUnsafe(e),n=0,i=0;i<t.length;++i){var s=t[i];if(!h.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,n),n+=s.length}return r},h.byteLength=d,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)f(this,e,e+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)f(this,e,e+3),f(this,e+1,e+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)f(this,e,e+7),f(this,e+1,e+6),f(this,e+2,e+5),f(this,e+3,e+4);return this},h.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?A(this,0,t):e.apply(this,arguments)},h.prototype.equals=function(t){if(h.isBuffer(t))return this===t||0===h.compare(this,t);throw new TypeError("Argument must be a Buffer")},h.prototype.inspect=function(){var t="",e=M.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e)&&(t+=" ... "),"<Buffer "+t+">"},h.prototype.compare=function(t,e,r,n,i){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),(e=void 0===e?0:e)<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(i<=n&&r<=e)return 0;if(i<=n)return-1;if(r<=e)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0),a=Math.min(s,o),c=this.slice(n,i),l=t.slice(e,r),u=0;u<a;++u)if(c[u]!==l[u]){s=c[u],o=l[u];break}return s<o?-1:o<s?1:0},h.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},h.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},h.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},h.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||i<r)&&(r=i),0<t.length&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";for(var s,o,a,c=!1;;)switch(n){case"hex":var l=this,u=t,h=e,d=r,f=(h=Number(h)||0,l.length-h);if((!d||f<(d=Number(d)))&&(d=f),(f=u.length)%2!=0)throw new TypeError("Invalid hex string");f/2<d&&(d=f/2);for(var g=0;g<d;++g){var p=parseInt(u.substr(2*g,2),16);if(isNaN(p))return g;l[h+g]=p}return g;case"utf8":case"utf-8":return f=e,a=r,T(D(t,(o=this).length-f),o,f,a);case"ascii":return m(this,t,e,r);case"latin1":case"binary":return m(this,t,e,r);case"base64":return o=this,a=e,s=r,T(I(t),o,a,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,t,e,r);default:if(c)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),c=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var v=4096;function y(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(r<t+e)throw new RangeError("Trying to access beyond buffer length")}function w(t,e,r,n,i,s){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<e||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function _(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-r,2);i<s;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function k(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-r,4);i<s;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function S(t,e,r,n){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function x(t,e,r,n,i){return i||S(t,0,r,4),s.write(t,e,r,n,23,4),r+4}function C(t,e,r,n,i){return i||S(t,0,r,8),s.write(t,e,r,n,52,8),r+8}h.prototype.slice=function(t,e){var r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),e<t&&(e=t),h.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=h.prototype;else for(var n=e-t,i=new h(n,void 0),s=0;s<n;++s)i[s]=this[s+t];return i},h.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||y(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n},h.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||y(t,e,this.length);for(var n=this[t+--e],i=1;0<e&&(i*=256);)n+=this[t+--e]*i;return n},h.prototype.readUInt8=function(t,e){return e||y(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return e||y(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return e||y(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return e||y(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return e||y(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||y(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return(i*=128)<=n&&(n-=Math.pow(2,8*e)),n},h.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||y(t,e,this.length);for(var n=e,i=1,s=this[t+--n];0<n&&(i*=256);)s+=this[t+--n]*i;return(i*=128)<=s&&(s-=Math.pow(2,8*e)),s},h.prototype.readInt8=function(t,e){return e||y(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){e||y(t,2,this.length);e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},h.prototype.readInt16BE=function(t,e){e||y(t,2,this.length);e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},h.prototype.readInt32LE=function(t,e){return e||y(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return e||y(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return e||y(t,4,this.length),s.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return e||y(t,4,this.length),s.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return e||y(t,8,this.length),s.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return e||y(t,8,this.length),s.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||w(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},h.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||w(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[e+i]=255&t;0<=--i&&(s*=256);)this[e+i]=t/s&255;return e+r},h.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||w(this,t,e,1,255,0),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||w(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):_(this,t,e,!0),e+2},h.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||w(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):_(this,t,e,!1),e+2},h.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||w(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):k(this,t,e,!0),e+4},h.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||w(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):k(this,t,e,!1),e+4},h.prototype.writeIntLE=function(t,e,r,n){t=+t,e|=0,n||w(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var i=0,s=1,o=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},h.prototype.writeIntBE=function(t,e,r,n){t=+t,e|=0,n||w(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var i=r-1,s=1,o=0;for(this[e+i]=255&t;0<=--i&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},h.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||w(this,t,e,1,127,-128),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&(t=t<0?255+t+1:t),e+1},h.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||w(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):_(this,t,e,!0),e+2},h.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||w(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):_(this,t,e,!1),e+2},h.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||w(this,t,e,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):k(this,t,e,!0),e+4},h.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||w(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):k(this,t,e,!1),e+4},h.prototype.writeFloatLE=function(t,e,r){return x(this,t,e,!0,r)},h.prototype.writeFloatBE=function(t,e,r){return x(this,t,e,!1,r)},h.prototype.writeDoubleLE=function(t,e,r){return C(this,t,e,!0,r)},h.prototype.writeDoubleBE=function(t,e,r){return C(this,t,e,!1,r)},h.prototype.copy=function(t,e,r,n){if(r=r||0,n||0===n||(n=this.length),e>=t.length&&(e=t.length),(n=0<n&&n<r?r:n)===r)return 0;if(0===t.length||0===this.length)return 0;if((e=e||0)<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length);var i,s=(n=t.length-e<n-r?t.length-e+r:n)-r;if(this===t&&r<e&&e<n)for(i=s-1;0<=i;--i)t[i+e]=this[i+r];else if(s<1e3||!h.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+s),e);return s},h.prototype.fill=function(t,e,r,n){if("string"==typeof t){var i;if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length&&(i=t.charCodeAt(0))<256&&(t=i),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(!(r<=e))if(e>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(t=t||0))for(a=e;a<r;++a)this[a]=t;else for(var s=h.isBuffer(t)?t:D(new h(t,n).toString()),o=s.length,a=0;a<r-e;++a)this[a+e]=s[a%o];return this};var O=/[^+\/0-9A-Za-z-_]/g;function D(t,e){e=e||1/0;for(var r,n=t.length,i=null,s=[],o=0;o<n;++o){if(55295<(r=t.charCodeAt(o))&&r<57344){if(!i){if(56319<r){-1<(e-=3)&&s.push(239,191,189);continue}if(o+1===n){-1<(e-=3)&&s.push(239,191,189);continue}i=r;continue}if(r<56320){-1<(e-=3)&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(e-=3)&&s.push(239,191,189);if(i=null,r<128){if(--e<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function I(t){return E.toByteArray(function(t){var e;if((t=((e=t).trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(O,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function T(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}.call(this,j(16))},,,,function(t,e,r){"use strict";r.d(e,"b",function(){return u}),r.d(e,"c",function(){return h}),r.d(e,"a",function(){return d});var n=r(6),i=r(24),s=r(62),o=r(63);const a=new Map;const c="undefined"==typeof BroadcastChannel?class{constructor(e){this.room=e,this.onmessage=null,this._onChange=t=>t.key===e&&null!==this.onmessage&&this.onmessage({data:s.c(t.newValue||"")}),o.b(this._onChange)}postMessage(t){o.c.setItem(this.room,s.d(s.b(t)))}close(){o.a(this._onChange)}}:BroadcastChannel,l=r=>n.e(a,r,()=>{const t=i.a();var e=new c(r);return e.onmessage=e=>t.forEach(t=>t(e.data,"broadcastchannel")),{bc:e,subs:t}}),u=(t,e)=>(l(t).subs.add(e),e),h=(t,e)=>{var r=l(t),e=r.subs.delete(e);return e&&0===r.subs.size&&(r.bc.close(),a.delete(t)),e},d=(t,e,r=null)=>{t=l(t);t.bc.postMessage(e),t.subs.forEach(t=>t(e,r))}},function(t,e,r){"use strict";t.exports=function(r,n){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return r.apply(n,t)}}},function(t,e,r){"use strict";var i=r(7);function s(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){var n;return e&&(r=r?r(e):i.isURLSearchParams(e)?e.toString():(n=[],i.forEach(e,function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),n.push(s(e)+"="+s(t))}))}),n.join("&")))&&(-1!==(e=t.indexOf("#"))&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+r),t}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,r){"use strict";var u=r(7),h=r(73),d=r(74),f=r(42),g=r(75),p=r(78),m=r(79),b=r(45);t.exports=function(l){return new Promise(function(e,r){var t,n=l.data,i=l.headers,s=l.responseType,o=(u.isFormData(n)&&delete i["Content-Type"],new XMLHttpRequest),a=(l.auth&&(a=l.auth.username||"",t=l.auth.password?unescape(encodeURIComponent(l.auth.password)):"",i.Authorization="Basic "+btoa(a+":"+t)),g(l.baseURL,l.url));function c(){var t;o&&(t="getAllResponseHeaders"in o?p(o.getAllResponseHeaders()):null,t={data:s&&"text"!==s&&"json"!==s?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:t,config:l,request:o},h(e,r,t),o=null)}o.open(l.method.toUpperCase(),f(a,l.params,l.paramsSerializer),!0),o.timeout=l.timeout,"onloadend"in o?o.onloadend=c:o.onreadystatechange=function(){o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))&&setTimeout(c)},o.onabort=function(){o&&(r(b("Request aborted",l,"ECONNABORTED",o)),o=null)},o.onerror=function(){r(b("Network Error",l,null,o)),o=null},o.ontimeout=function(){var t="timeout of "+l.timeout+"ms exceeded";l.timeoutErrorMessage&&(t=l.timeoutErrorMessage),r(b(t,l,l.transitional&&l.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",o)),o=null},u.isStandardBrowserEnv()&&(t=(l.withCredentials||m(a))&&l.xsrfCookieName?d.read(l.xsrfCookieName):void 0)&&(i[l.xsrfHeaderName]=t),"setRequestHeader"in o&&u.forEach(i,function(t,e){void 0===n&&"content-type"===e.toLowerCase()?delete i[e]:o.setRequestHeader(e,t)}),u.isUndefined(l.withCredentials)||(o.withCredentials=!!l.withCredentials),s&&"json"!==s&&(o.responseType=l.responseType),"function"==typeof l.onDownloadProgress&&o.addEventListener("progress",l.onDownloadProgress),"function"==typeof l.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",l.onUploadProgress),l.cancelToken&&l.cancelToken.promise.then(function(t){o&&(o.abort(),r(t),o=null)}),n=n||null,o.send(n)})}},function(t,e,r){"use strict";var s=r(43);t.exports=function(t,e,r,n,i){t=new Error(t);return s(t,e,r,n,i)}},function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){"use strict";var u=r(7);t.exports=function(e,r){r=r||{};var n={},t=["url","method","data"],i=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function a(t,e){return u.isPlainObject(t)&&u.isPlainObject(e)?u.merge(t,e):u.isPlainObject(e)?u.merge({},e):u.isArray(e)?e.slice():e}function c(t){u.isUndefined(r[t])?u.isUndefined(e[t])||(n[t]=a(void 0,e[t])):n[t]=a(e[t],r[t])}u.forEach(t,function(t){u.isUndefined(r[t])||(n[t]=a(void 0,r[t]))}),u.forEach(i,c),u.forEach(s,function(t){u.isUndefined(r[t])?u.isUndefined(e[t])||(n[t]=a(void 0,e[t])):n[t]=a(void 0,r[t])}),u.forEach(o,function(t){t in r?n[t]=a(e[t],r[t]):t in e&&(n[t]=a(void 0,e[t]))});var l=t.concat(i).concat(s).concat(o),t=Object.keys(e).concat(Object.keys(r)).filter(function(t){return-1===l.indexOf(t)});return u.forEach(t,c),n}},function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(6),i=r(24),s=r(12);class o{constructor(){this._observers=n.c()}on(t,e){n.e(this._observers,t,i.a).add(e)}once(e,r){const n=(...t)=>{this.off(e,n),r(...t)};this.on(e,n)}off(t,e){var r=this._observers.get(t);void 0!==r&&(r.delete(e),0===r.size)&&this._observers.delete(t)}emit(t,e){return s.c((this._observers.get(t)||n.c()).values()).forEach(t=>t(...e))}destroy(){this._observers=n.c()}}},function(t,p,m){"use strict";!function(i){m.d(p,"b",function(){return a}),m.d(p,"a",function(){return d}),m.d(p,"c",function(){return g});var t=m(6),s=m(19),e=m(138),r=m(63),n=m(22);const o=void 0!==i&&i.release&&/node|io\.js/.test(i.release.name)&&"[object process]"===Object.prototype.toString.call(void 0!==i?i:0),a="undefined"!=typeof window&&"undefined"!=typeof document&&!o;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);let c;const l=[],u=()=>{if(void 0===c)if(o){c=t.c();var r=i.argv;let e=null;for(let t=0;t<r.length;t++){var n=r[t];"-"===n[0]?(null!==e&&c.set(e,""),e=n):null!==e?(c.set(e,n),e=null):l.push(n)}null!==e&&c.set(e,"")}else"object"==typeof location?(c=t.c(),(location.search||"?").slice(1).split("&").forEach(t=>{var e;0!==t.length&&([t,e]=t.split("="),c.set("--"+s.c(t,"-"),e),c.set("-"+s.c(t,"-"),e))})):c=t.c();return c},h=t=>u().has(t);const d=t=>o?e.a(i.env[t.toUpperCase()]):e.a(r.c.getItem(t));h("--"+(f="production"))||d(f);var f=o&&n.e(i.env.FORCE_COLOR,["true","1","2"]);const g=!h("no-colors")&&(!o||i.stdout.isTTY||f)&&(!o||h("color")||f||null!==d("COLORTERM")||(d("TERM")||"").includes("color"))}.call(this,m(18))},function(t,e,r){"use strict";r.d(e,"a",function(){return l}),r.d(e,"c",function(){return s}),r.d(e,"d",function(){return u}),r.d(e,"e",function(){return o}),r.d(e,"b",function(){return a});var n=r(1),c=r(2),i=r(11);const l=1,s=(t,e)=>{n.p(t,0);e=i.i(e);n.q(t,e)},u=(t,e,r)=>{n.p(t,l),n.q(t,i.h(e,r))},h=(t,e,r)=>{try{i.e(e,c.l(t),r)}catch(t){console.error("Caught error while handling a Yjs update",t)}},o=(t,e)=>{n.p(t,2),n.q(t,e)},d=h,a=(t,e,r,n)=>{var i,s,o,a=c.k(t);switch(a){case 0:i=t,s=e,o=r,u(s,o,c.l(i));break;case l:h(t,r,n);break;case 2:d(t,r,n);break;default:throw new Error("Unknown message type")}return a}},function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var c=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(Object.assign){var t=new String("abc");if(t[5]="de","5"!==Object.getOwnPropertyNames(t)[0]){for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n,i=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"===i.join(""))return n={},"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")?1:void 0}}}catch(t){}}()?Object.assign:function(t,e){for(var r,n=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),i=1;i<arguments.length;i++){for(var s in r=Object(arguments[i]))l.call(r,s)&&(n[s]=r[s]);if(c)for(var o=c(r),a=0;a<o.length;a++)u.call(r,o[a])&&(n[o[a]]=r[o[a]])}return n}},,,,,,,,,function(t,e){function x(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}x.Diff=function(t,e){return[t,e]},x.prototype.diff_main=function(t,e,r,n){var i,s,o,n=n=void 0===n?this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout:n;if(null==t||null==e)throw new Error("Null input. (diff_main)");return t==e?t?[new x.Diff(0,t)]:[]:(r=r=void 0===r||r,o=this.diff_commonPrefix(t,e),i=t.substring(0,o),t=t.substring(o),e=e.substring(o),o=this.diff_commonSuffix(t,e),s=t.substring(t.length-o),t=t.substring(0,t.length-o),e=e.substring(0,e.length-o),o=this.diff_compute_(t,e,r,n),i&&o.unshift(new x.Diff(0,i)),s&&o.push(new x.Diff(0,s)),this.diff_cleanupMerge(o),o)},x.prototype.diff_compute_=function(t,e,r,n){var i,s,o,a,c;return t?e?(a=t.length>e.length?t:e,i=t.length>e.length?e:t,-1!=(o=a.indexOf(i))?(a=[new x.Diff(1,a.substring(0,o)),new x.Diff(0,i),new x.Diff(1,a.substring(o+i.length))],t.length>e.length&&(a[0][0]=a[2][0]=-1),a):1==i.length?[new x.Diff(-1,t),new x.Diff(1,e)]:(o=this.diff_halfMatch_(t,e))?(a=o[0],i=o[1],c=o[2],s=o[3],o=o[4],a=this.diff_main(a,c,r,n),c=this.diff_main(i,s,r,n),a.concat([new x.Diff(0,o)],c)):r&&100<t.length&&100<e.length?this.diff_lineMode_(t,e,n):this.diff_bisect_(t,e,n)):[new x.Diff(-1,t)]:[new x.Diff(1,e)]},x.prototype.diff_lineMode_=function(t,e,r){for(var n=this.diff_linesToChars_(t,e),n=(t=n.chars1,e=n.chars2,n.lineArray),i=this.diff_main(t,e,!1,r),s=(this.diff_charsToLines_(i,n),this.diff_cleanupSemantic(i),i.push(new x.Diff(0,"")),0),o=0,a=0,c="",l="";s<i.length;){switch(i[s][0]){case 1:a++,l+=i[s][1];break;case-1:o++,c+=i[s][1];break;case 0:if(1<=o&&1<=a){i.splice(s-o-a,o+a);for(var s=s-o-a,u=this.diff_main(c,l,!1,r),h=u.length-1;0<=h;h--)i.splice(s,0,u[h]);s+=u.length}o=a=0,l=c=""}s++}return i.pop(),i},x.prototype.diff_bisect_=function(t,e,r){for(var n=t.length,i=e.length,s=Math.ceil((n+i)/2),o=s,a=2*s,c=new Array(a),l=new Array(a),u=0;u<a;u++)c[u]=-1,l[u]=-1;c[o+1]=0;for(var h=n-i,d=h%2!=(l[o+1]=0),f=0,g=0,p=0,m=0,b=0;b<s&&!((new Date).getTime()>r);b++){for(var v=-b+f;v<=b-g;v+=2){for(var y=o+v,w=(A=v==-b||v!=b&&c[y-1]<c[y+1]?c[y+1]:c[y-1]+1)-v;A<n&&w<i&&t.charAt(A)==e.charAt(w);)A++,w++;if(n<(c[y]=A))g+=2;else if(i<w)f+=2;else if(d){var _=o+h-v;if(0<=_&&_<a&&-1!=l[_])if((S=n-l[_])<=A)return this.diff_bisectSplit_(t,e,A,w,r)}}for(var k=-b+p;k<=b-m;k+=2){for(var S,_=o+k,E=(S=k==-b||k!=b&&l[_-1]<l[_+1]?l[_+1]:l[_-1]+1)-k;S<n&&E<i&&t.charAt(n-S-1)==e.charAt(i-E-1);)S++,E++;if(n<(l[_]=S))m+=2;else if(i<E)p+=2;else if(!d)if(0<=(y=o+h-k)&&y<a&&-1!=c[y]){var A,w=o+(A=c[y])-y;if((S=n-S)<=A)return this.diff_bisectSplit_(t,e,A,w,r)}}}return[new x.Diff(-1,t),new x.Diff(1,e)]},x.prototype.diff_bisectSplit_=function(t,e,r,n,i){var s=t.substring(0,r),o=e.substring(0,n),t=t.substring(r),r=e.substring(n),e=this.diff_main(s,o,!1,i),n=this.diff_main(t,r,!1,i);return e.concat(n)},x.prototype.diff_linesToChars_=function(t,e){var o=[],a={};function r(t){for(var e="",r=0,n=-1,i=o.length;n<t.length-1;){-1==(n=t.indexOf("\n",r))&&(n=t.length-1);var s=t.substring(r,n+1);(a.hasOwnProperty?a.hasOwnProperty(s):void 0!==a[s])?e+=String.fromCharCode(a[s]):(i==c&&(s=t.substring(r),n=t.length),e+=String.fromCharCode(i),a[s]=i,o[i++]=s),r=n+1}return e}o[0]="";var c=4e4,t=r(t),c=65535;return{chars1:t,chars2:r(e),lineArray:o}},x.prototype.diff_charsToLines_=function(t,e){for(var r=0;r<t.length;r++){for(var n=t[r][1],i=[],s=0;s<n.length;s++)i[s]=e[n.charCodeAt(s)];t[r][1]=i.join("")}},x.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,s=0;r<i;)t.substring(s,i)==e.substring(s,i)?s=r=i:n=i,i=Math.floor((n-r)/2+r);return i},x.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,s=0;r<i;)t.substring(t.length-i,t.length-s)==e.substring(e.length-i,e.length-s)?s=r=i:n=i,i=Math.floor((n-r)/2+r);return i},x.prototype.diff_commonOverlap_=function(t,e){var r=t.length,n=e.length;if(0==r||0==n)return 0;n<r?t=t.substring(r-n):r<n&&(e=e.substring(0,r));var i=Math.min(r,n);if(t==e)return i;for(var s=0,o=1;;){var a=t.substring(i-o),a=e.indexOf(a);if(-1==a)return s;o+=a,0!=a&&t.substring(i-o)!=e.substring(0,o)||(s=o,o++)}},x.prototype.diff_halfMatch_=function(t,e){var d,r,n,i,s,o,a,c;return!(this.Diff_Timeout<=0)&&(i=t.length>e.length?t:e,n=t.length>e.length?e:t,!(i.length<4||2*n.length<i.length))&&(d=this,r=l(i,n,Math.ceil(i.length/4)),n=l(i,n,Math.ceil(i.length/2)),r||n)?(i=!n||r&&r[4].length>n[4].length?r:n,t.length>e.length?(s=i[0],o=i[1],a=i[2],c=i[3]):(a=i[0],c=i[1],s=i[2],o=i[3]),[s,o,a,c,i[4]]):null;function l(t,e,r){for(var n,i,s,o,a=t.substring(r,r+Math.floor(t.length/4)),c=-1,l="";-1!=(c=e.indexOf(a,c+1));){var u=d.diff_commonPrefix(t.substring(r),e.substring(c)),h=d.diff_commonSuffix(t.substring(0,r),e.substring(0,c));l.length<h+u&&(l=e.substring(c-h,c)+e.substring(c,c+u),n=t.substring(0,r-h),i=t.substring(r+u),s=e.substring(0,c-h),o=e.substring(c+u))}return 2*l.length>=t.length?[n,i,s,o,l]:null}},x.prototype.diff_cleanupSemantic=function(t){for(var e,r,n,i,s=!1,o=[],a=0,c=null,l=0,u=0,h=0,d=0,f=0;l<t.length;)0==t[l][0]?(u=d,h=f,f=d=0,c=t[o[a++]=l][1]):(1==t[l][0]?d+=t[l][1].length:f+=t[l][1].length,c&&c.length<=Math.max(u,h)&&c.length<=Math.max(d,f)&&(t.splice(o[a-1],0,new x.Diff(-1,c)),t[o[a-1]+1][0]=1,a--,l=0<--a?o[a-1]:-1,f=d=h=u=0,s=!(c=null))),l++;for(s&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),l=1;l<t.length;)-1==t[l-1][0]&&1==t[l][0]&&(e=t[l-1][1],r=t[l][1],n=this.diff_commonOverlap_(e,r),(i=this.diff_commonOverlap_(r,e))<=n?(n>=e.length/2||n>=r.length/2)&&(t.splice(l,0,new x.Diff(0,r.substring(0,n))),t[l-1][1]=e.substring(0,e.length-n),t[l+1][1]=r.substring(n),l++):(i>=e.length/2||i>=r.length/2)&&(t.splice(l,0,new x.Diff(0,e.substring(0,i))),t[l-1][0]=1,t[l-1][1]=r.substring(0,r.length-i),t[l+1][0]=-1,t[l+1][1]=e.substring(i),l++),l++),l++},x.prototype.diff_cleanupSemanticLossless=function(t){function e(t,e){var r,n,i,s,o,a;return t&&e?(o=t.charAt(t.length-1),a=e.charAt(0),r=o.match(x.nonAlphaNumericRegex_),n=a.match(x.nonAlphaNumericRegex_),i=r&&o.match(x.whitespaceRegex_),s=n&&a.match(x.whitespaceRegex_),o=i&&o.match(x.linebreakRegex_),a=s&&a.match(x.linebreakRegex_),t=o&&t.match(x.blanklineEndRegex_),e=a&&e.match(x.blanklineStartRegex_),t||e?5:o||a?4:r&&!i&&s?3:i||s?2:r||n?1:0):6}for(var r=1;r<t.length-1;){if(0==t[r-1][0]&&0==t[r+1][0]){for(var n,i=t[r-1][1],s=t[r][1],o=t[r+1][1],a=this.diff_commonSuffix(i,s),c=(a&&(n=s.substring(s.length-a),i=i.substring(0,i.length-a),s=n+s.substring(0,s.length-a),o=n+o),i),l=s,u=o,h=e(i,s)+e(s,o);s.charAt(0)===o.charAt(0);){i+=s.charAt(0),s=s.substring(1)+o.charAt(0),o=o.substring(1);var d=e(i,s)+e(s,o);h<=d&&(h=d,c=i,l=s,u=o)}t[r-1][1]!=c&&(c?t[r-1][1]=c:(t.splice(r-1,1),r--),t[r][1]=l,u?t[r+1][1]=u:(t.splice(r+1,1),r--))}r++}},x.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,x.whitespaceRegex_=/\s/,x.linebreakRegex_=/[\r\n]/,x.blanklineEndRegex_=/\n\r?\n$/,x.blanklineStartRegex_=/^\r?\n\r?\n/,x.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,r=[],n=0,i=null,s=0,o=!1,a=!1,c=!1,l=!1;s<t.length;)0==t[s][0]?(i=t[s][1].length<this.Diff_EditCost&&(c||l)?(o=c,a=l,t[r[n++]=s][1]):(n=0,null),c=l=!1):(-1==t[s][0]?l=!0:c=!0,i&&(o&&a&&c&&l||i.length<this.Diff_EditCost/2&&o+a+c+l==3)&&(t.splice(r[n-1],0,new x.Diff(-1,i)),t[r[n-1]+1][0]=1,n--,o&&a?(c=l=!0,n=0):(s=0<--n?r[n-1]:-1,c=l=!1),e=!(i=null))),s++;e&&this.diff_cleanupMerge(t)},x.prototype.diff_cleanupMerge=function(t){t.push(new x.Diff(0,""));for(var e,r=0,n=0,i=0,s="",o="";r<t.length;)switch(t[r][0]){case 1:i++,o+=t[r][1],r++;break;case-1:n++,s+=t[r][1],r++;break;case 0:1<n+i?(0!==n&&0!==i&&(0!==(e=this.diff_commonPrefix(o,s))&&(0<r-n-i&&0==t[r-n-i-1][0]?t[r-n-i-1][1]+=o.substring(0,e):(t.splice(0,0,new x.Diff(0,o.substring(0,e))),r++),o=o.substring(e),s=s.substring(e)),0!==(e=this.diff_commonSuffix(o,s)))&&(t[r][1]=o.substring(o.length-e)+t[r][1],o=o.substring(0,o.length-e),s=s.substring(0,s.length-e)),r-=n+i,t.splice(r,n+i),s.length&&(t.splice(r,0,new x.Diff(-1,s)),r++),o.length&&(t.splice(r,0,new x.Diff(1,o)),r++),r++):0!==r&&0==t[r-1][0]?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,n=i=0,o=s=""}""===t[t.length-1][1]&&t.pop();for(var a=!1,r=1;r<t.length-1;)0==t[r-1][0]&&0==t[r+1][0]&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)==t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),a=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),a=!0)),r++;a&&this.diff_cleanupMerge(t)},x.prototype.diff_xIndex=function(t,e){for(var r=0,n=0,i=0,s=0,o=0;o<t.length&&(1!==t[o][0]&&(r+=t[o][1].length),-1!==t[o][0]&&(n+=t[o][1].length),!(e<r));o++)i=r,s=n;return t.length!=o&&-1===t[o][0]?s:s+(e-i)},x.prototype.diff_prettyHtml=function(t){for(var e=[],r=/&/g,n=/</g,i=/>/g,s=/\n/g,o=0;o<t.length;o++){var a=t[o][0],c=t[o][1].replace(r,"&amp;").replace(n,"&lt;").replace(i,"&gt;").replace(s,"&para;<br>");switch(a){case 1:e[o]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case-1:e[o]='<del style="background:#ffe6e6;">'+c+"</del>";break;case 0:e[o]="<span>"+c+"</span>"}}return e.join("")},x.prototype.diff_text1=function(t){for(var e=[],r=0;r<t.length;r++)1!==t[r][0]&&(e[r]=t[r][1]);return e.join("")},x.prototype.diff_text2=function(t){for(var e=[],r=0;r<t.length;r++)-1!==t[r][0]&&(e[r]=t[r][1]);return e.join("")},x.prototype.diff_levenshtein=function(t){for(var e=0,r=0,n=0,i=0;i<t.length;i++){var s=t[i][0],o=t[i][1];switch(s){case 1:r+=o.length;break;case-1:n+=o.length;break;case 0:e+=Math.max(r,n),n=r=0}}return e+=Math.max(r,n)},x.prototype.diff_toDelta=function(t){for(var e=[],r=0;r<t.length;r++)switch(t[r][0]){case 1:e[r]="+"+encodeURI(t[r][1]);break;case-1:e[r]="-"+t[r][1].length;break;case 0:e[r]="="+t[r][1].length}return e.join("\t").replace(/%20/g," ")},x.prototype.diff_fromDelta=function(t,e){for(var r=[],n=0,i=0,s=e.split(/\t/g),o=0;o<s.length;o++){var a=s[o].substring(1);switch(s[o].charAt(0)){case"+":try{r[n++]=new x.Diff(1,decodeURI(a))}catch(t){throw new Error("Illegal escape in diff_fromDelta: "+a)}break;case"-":case"=":var c=parseInt(a,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+a);c=t.substring(i,i+=c);"="==s[o].charAt(0)?r[n++]=new x.Diff(0,c):r[n++]=new x.Diff(-1,c);break;default:if(s[o])throw new Error("Invalid diff operation in diff_fromDelta: "+s[o])}}if(i!=t.length)throw new Error("Delta length ("+i+") does not equal source text length ("+t.length+").");return r},x.prototype.match_main=function(t,e,r){if(null==t||null==e||null==r)throw new Error("Null input. (match_main)");return r=Math.max(0,Math.min(r,t.length)),t==e?0:t.length?t.substring(r,r+e.length)==e?r:this.match_bitap_(t,e,r):-1},x.prototype.match_bitap_=function(t,r,n){if(r.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var e=this.match_alphabet_(r),i=this;function s(t,e){t/=r.length,e=Math.abs(n-e);return i.Match_Distance?t+e/i.Match_Distance:e?1:t}for(var o,a,c,l=this.Match_Threshold,u=(-1!=(h=t.indexOf(r,n))&&(l=Math.min(s(0,h),l),-1!=(h=t.lastIndexOf(r,n+r.length)))&&(l=Math.min(s(0,h),l)),1<<r.length-1),h=-1,d=r.length+t.length,f=0;f<r.length;f++){for(o=0,a=d;o<a;)s(f,n+a)<=l?o=a:d=a,a=Math.floor((d-o)/2+o);var d=a,g=Math.max(1,n-a+1),p=Math.min(n+a,t.length)+r.length,m=Array(p+2);m[p+1]=(1<<f)-1;for(var b=p;g<=b;b--){var v=e[t.charAt(b-1)];if(m[b]=0===f?(m[b+1]<<1|1)&v:(m[b+1]<<1|1)&v|(c[b+1]|c[b])<<1|1|c[b+1],m[b]&u){v=s(f,b-1);if(v<=l){if(l=v,!(n<(h=b-1)))break;g=Math.max(1,2*n-h)}}}if(s(f+1,n)>l)break;c=m}return h},x.prototype.match_alphabet_=function(t){for(var e={},r=0;r<t.length;r++)e[t.charAt(r)]=0;for(r=0;r<t.length;r++)e[t.charAt(r)]|=1<<t.length-r-1;return e},x.prototype.patch_addContext_=function(t,e){if(0!=e.length){if(null===t.start2)throw Error("patch not initialized");for(var r=e.substring(t.start2,t.start2+t.length1),n=0;e.indexOf(r)!=e.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)n+=this.Patch_Margin,r=e.substring(t.start2-n,t.start2+t.length1+n);n+=this.Patch_Margin;var i=e.substring(t.start2-n,t.start2),s=(i&&t.diffs.unshift(new x.Diff(0,i)),e.substring(t.start2+t.length1,t.start2+t.length1+n));s&&t.diffs.push(new x.Diff(0,s)),t.start1-=i.length,t.start2-=i.length,t.length1+=i.length+s.length,t.length2+=i.length+s.length}},x.prototype.patch_make=function(t,e,r){var n,i;if("string"==typeof t&&"string"==typeof e&&void 0===r)2<(i=this.diff_main(n=t,e,!0)).length&&(this.diff_cleanupSemantic(i),this.diff_cleanupEfficiency(i));else if(t&&"object"==typeof t&&void 0===e&&void 0===r)n=this.diff_text1(i=t);else if("string"==typeof t&&e&&"object"==typeof e&&void 0===r)n=t,i=e;else{if("string"!=typeof t||"string"!=typeof e||!r||"object"!=typeof r)throw new Error("Unknown call format to patch_make.");n=t,i=r}if(0===i.length)return[];for(var s=[],o=new x.patch_obj,a=0,c=0,l=0,u=n,h=n,d=0;d<i.length;d++){var f=i[d][0],g=i[d][1];switch(a||0===f||(o.start1=c,o.start2=l),f){case 1:o.diffs[a++]=i[d],o.length2+=g.length,h=h.substring(0,l)+g+h.substring(l);break;case-1:o.length1+=g.length,o.diffs[a++]=i[d],h=h.substring(0,l)+h.substring(l+g.length);break;case 0:g.length<=2*this.Patch_Margin&&a&&i.length!=d+1?(o.diffs[a++]=i[d],o.length1+=g.length,o.length2+=g.length):g.length>=2*this.Patch_Margin&&a&&(this.patch_addContext_(o,u),s.push(o),o=new x.patch_obj,a=0,u=h,c=l)}1!==f&&(c+=g.length),-1!==f&&(l+=g.length)}return a&&(this.patch_addContext_(o,u),s.push(o)),s},x.prototype.patch_deepCopy=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r],i=new x.patch_obj;i.diffs=[];for(var s=0;s<n.diffs.length;s++)i.diffs[s]=new x.Diff(n.diffs[s][0],n.diffs[s][1]);i.start1=n.start1,i.start2=n.start2,i.length1=n.length1,i.length2=n.length2,e[r]=i}return e},x.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);for(var r=this.patch_addPadding(t),n=(e=r+e+r,this.patch_splitMax(t),0),i=[],s=0;s<t.length;s++){var o,a=t[s].start2+n,c=this.diff_text1(t[s].diffs),l=-1;if(c.length>this.Match_MaxBits?-1!=(o=this.match_main(e,c.substring(0,this.Match_MaxBits),a))&&(-1==(l=this.match_main(e,c.substring(c.length-this.Match_MaxBits),a+c.length-this.Match_MaxBits))||l<=o)&&(o=-1):o=this.match_main(e,c,a),-1==o)i[s]=!1,n-=t[s].length2-t[s].length1;else if(i[s]=!0,n=o-a,c==(a=-1==l?e.substring(o,o+c.length):e.substring(o,l+this.Match_MaxBits)))e=e.substring(0,o)+this.diff_text2(t[s].diffs)+e.substring(o+c.length);else{var u=this.diff_main(c,a,!1);if(c.length>this.Match_MaxBits&&this.diff_levenshtein(u)/c.length>this.Patch_DeleteThreshold)i[s]=!1;else{this.diff_cleanupSemanticLossless(u);for(var h,d=0,f=0;f<t[s].diffs.length;f++){var g=t[s].diffs[f];0!==g[0]&&(h=this.diff_xIndex(u,d)),1===g[0]?e=e.substring(0,o+h)+g[1]+e.substring(o+h):-1===g[0]&&(e=e.substring(0,o+h)+e.substring(o+this.diff_xIndex(u,d+g[1].length))),-1!==g[0]&&(d+=g[1].length)}}}}return[e=e.substring(r.length,e.length-r.length),i]},x.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,r="",n=1;n<=e;n++)r+=String.fromCharCode(n);for(n=0;n<t.length;n++)t[n].start1+=e,t[n].start2+=e;var i,s=t[0],o=s.diffs;return 0==o.length||0!=o[0][0]?(o.unshift(new x.Diff(0,r)),s.start1-=e,s.start2-=e,s.length1+=e,s.length2+=e):e>o[0][1].length&&(i=e-o[0][1].length,o[0][1]=r.substring(o[0][1].length)+o[0][1],s.start1-=i,s.start2-=i,s.length1+=i,s.length2+=i),0==(o=(s=t[t.length-1]).diffs).length||0!=o[o.length-1][0]?(o.push(new x.Diff(0,r)),s.length1+=e,s.length2+=e):e>o[o.length-1][1].length&&(i=e-o[o.length-1][1].length,o[o.length-1][1]+=r.substring(0,i),s.length1+=i,s.length2+=i),r},x.prototype.patch_splitMax=function(t){for(var e=this.Match_MaxBits,r=0;r<t.length;r++)if(!(t[r].length1<=e))for(var n=t[r],i=(t.splice(r--,1),n.start1),s=n.start2,o="";0!==n.diffs.length;){var a=new x.patch_obj,c=!0;for(a.start1=i-o.length,a.start2=s-o.length,""!==o&&(a.length1=a.length2=o.length,a.diffs.push(new x.Diff(0,o)));0!==n.diffs.length&&a.length1<e-this.Patch_Margin;){var l=n.diffs[0][0],u=n.diffs[0][1];1===l?(a.length2+=u.length,s+=u.length,a.diffs.push(n.diffs.shift()),c=!1):-1===l&&1==a.diffs.length&&0==a.diffs[0][0]&&u.length>2*e?(a.length1+=u.length,i+=u.length,c=!1,a.diffs.push(new x.Diff(l,u)),n.diffs.shift()):(u=u.substring(0,e-a.length1-this.Patch_Margin),a.length1+=u.length,i+=u.length,0===l?(a.length2+=u.length,s+=u.length):c=!1,a.diffs.push(new x.Diff(l,u)),u==n.diffs[0][1]?n.diffs.shift():n.diffs[0][1]=n.diffs[0][1].substring(u.length))}var o=(o=this.diff_text2(a.diffs)).substring(o.length-this.Patch_Margin),h=this.diff_text1(n.diffs).substring(0,this.Patch_Margin);""!==h&&(a.length1+=h.length,a.length2+=h.length,0!==a.diffs.length&&0===a.diffs[a.diffs.length-1][0]?a.diffs[a.diffs.length-1][1]+=h:a.diffs.push(new x.Diff(0,h))),c||t.splice(++r,0,a)}},x.prototype.patch_toText=function(t){for(var e=[],r=0;r<t.length;r++)e[r]=t[r];return e.join("")},x.prototype.patch_fromText=function(t){var e=[];if(t)for(var r=t.split("\n"),n=0,i=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;n<r.length;){var s=r[n].match(i);if(!s)throw new Error("Invalid patch string: "+r[n]);var o=new x.patch_obj;for(e.push(o),o.start1=parseInt(s[1],10),""===s[2]?(o.start1--,o.length1=1):"0"==s[2]?o.length1=0:(o.start1--,o.length1=parseInt(s[2],10)),o.start2=parseInt(s[3],10),""===s[4]?(o.start2--,o.length2=1):"0"==s[4]?o.length2=0:(o.start2--,o.length2=parseInt(s[4],10)),n++;n<r.length;){var a=r[n].charAt(0);try{var c=decodeURI(r[n].substring(1))}catch(t){throw new Error("Illegal escape in patch_fromText: "+c)}if("-"==a)o.diffs.push(new x.Diff(-1,c));else if("+"==a)o.diffs.push(new x.Diff(1,c));else if(" "==a)o.diffs.push(new x.Diff(0,c));else{if("@"==a)break;if(""!==a)throw new Error('Invalid patch mode "'+a+'" in: '+c)}n++}}return e},(x.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var t,e=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,r=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2,n=["@@ -"+e+" +"+r+" @@\n"],i=0;i<this.diffs.length;i++){switch(this.diffs[i][0]){case 1:t="+";break;case-1:t="-";break;case 0:t=" "}n[i+1]=t+encodeURI(this.diffs[i][1])+"\n"}return n.join("").replace(/%20/g," ")},t.exports=x,t.exports.diff_match_patch=x,t.exports.DIFF_DELETE=-1,t.exports.DIFF_INSERT=1,t.exports.DIFF_EQUAL=0},function(t,c,l){"use strict";!function(n){l.d(c,"b",function(){return e}),l.d(c,"d",function(){return r}),l.d(c,"c",function(){return o}),l.d(c,"a",function(){return a});var i=l(19),t=l(50);l(12),l(5),l(1),l(2);const s=t=>new Uint8Array(t),e=t=>new Uint8Array(t);const r=t.b?e=>{let r="";for(let t=0;t<e.byteLength;t++)r+=i.d(e[t]);return btoa(r)}:t=>n.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),o=t.b?t=>{var e=atob(t),r=s(e.length);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return r}:t=>{var e,r,t=n.from(t,"base64");return e=t.buffer,r=t.byteOffset,t=t.byteLength,new Uint8Array(e,r,t)};const a=t=>{var e=s(t.byteLength);return e.set(t),e}}.call(this,l(36).Buffer)},function(t,e,r){"use strict";r.d(e,"c",function(){return s}),r.d(e,"b",function(){return o}),r.d(e,"a",function(){return a});let n=new class{constructor(){this.map=new Map}setItem(t,e){this.map.set(t,e)}getItem(t){return this.map.get(t)}},i=!0;try{"undefined"!=typeof localStorage&&localStorage&&(n=localStorage,i=!1)}catch(t){}const s=n,o=t=>i||addEventListener("storage",t),a=t=>i||removeEventListener("storage",t)},function(t,i,s){!function(t){var e=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function n(t,e){this._id=t,this._clearFn=e}i.setTimeout=function(){return new n(r.call(setTimeout,e,arguments),clearTimeout)},i.setInterval=function(){return new n(r.call(setInterval,e,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(e,this._id)},i.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},i.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},i._unrefActive=i.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},s(65),i.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,i.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}.call(this,s(16))},function(t,e,r){!function(t,f){!function(r,s){"use strict";var n,o,a,i,c,l,e,t;function u(t){delete o[t]}function h(t){if(a)setTimeout(h,0,t);else{var e=o[t];if(e){a=!0;try{var r=e,n=r.callback,i=r.args;switch(i.length){case 0:n();break;case 1:n(i[0]);break;case 2:n(i[0],i[1]);break;case 3:n(i[0],i[1],i[2]);break;default:n.apply(s,i)}}finally{u(t),a=!1}}}}function d(){function t(t){t.source===r&&"string"==typeof t.data&&0===t.data.indexOf(e)&&h(+t.data.slice(e.length))}var e="setImmediate$"+Math.random()+"$";r.addEventListener?r.addEventListener("message",t,!1):r.attachEvent("onmessage",t),c=function(t){r.postMessage(e+t,"*")}}r.setImmediate||(n=1,a=!(o={}),i=r.document,t=(t=Object.getPrototypeOf&&Object.getPrototypeOf(r))&&t.setTimeout?t:r,"[object process]"==={}.toString.call(r.process)?c=function(t){f.nextTick(function(){h(t)})}:!function(){var t,e;if(r.postMessage&&!r.importScripts)return t=!0,e=r.onmessage,r.onmessage=function(){t=!1},r.postMessage("","*"),r.onmessage=e,t}()?c=r.MessageChannel?((e=new MessageChannel).port1.onmessage=function(t){h(t.data)},function(t){e.port2.postMessage(t)}):i&&"onreadystatechange"in i.createElement("script")?(l=i.documentElement,function(t){var e=i.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,l.removeChild(e),e=null},l.appendChild(e)}):function(t){setTimeout(h,0,t)}:d(),t.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];return o[n]={callback:t,args:e},c(n),n++},t.clearImmediate=u)}("undefined"==typeof self?void 0===t?this:t:self)}.call(this,r(16),r(18))},function(U,t,e){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u=e(52),e="function"==typeof Symbol&&Symbol.for,h=e?Symbol.for("react.element"):60103,l=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,n=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,a=e?Symbol.for("react.forward_ref"):60112,c=e?Symbol.for("react.suspense"):60113,d=e?Symbol.for("react.memo"):60115,f=e?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function p(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function v(t,e,r){this.props=t,this.context=e,this.refs=b,this.updater=r||m}function y(){}function w(t,e,r){this.props=t,this.context=e,this.refs=b,this.updater=r||m}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(p(85));this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var e=w.prototype=new y,_=(e.constructor=w,u(e,v.prototype),e.isPureReactComponent=!0,{current:null}),k=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,r){var n,i={},s=null,o=null;if(null!=e)for(n in void 0!==e.ref&&(o=e.ref),void 0!==e.key&&(s=""+e.key),e)k.call(e,n)&&!S.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(1===a)i.children=r;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps)void 0===i[n]&&(i[n]=a[n]);return{$$typeof:h,type:t,key:s,ref:o,props:i,_owner:_.current}}function A(t){return"object"==typeof t&&null!==t&&t.$$typeof===h}var x=/\/+/g,C=[];function O(t,e,r,n){var i;return C.length?((i=C.pop()).result=t,i.keyPrefix=e,i.func=r,i.context=n,i.count=0,i):{result:t,keyPrefix:e,func:r,context:n,count:0}}function D(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,C.length<10&&C.push(t)}function I(t,e,r){return null==t?0:function t(e,r,n,i){var s=!1;if(null===(e="undefined"!=(a=typeof e)&&"boolean"!==a?e:null))s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case h:case l:s=!0}}if(s)return n(i,e,""===r?"."+T(e,0):r),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var o=0;o<e.length;o++){var a,c=r+T(a=e[o],o);s+=t(a,c,n,i)}else if("function"==typeof(c=null!==e&&"object"==typeof e&&"function"==typeof(c=g&&e[g]||e["@@iterator"])?c:null))for(e=c.call(e),o=0;!(a=e.next()).done;)s+=t(a=a.value,c=r+T(a,o++),n,i);else if("object"===a)throw n=""+e,Error(p(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}(t,"",e,r)}function T(t,e){return"object"==typeof t&&null!==t&&null!=t.key?(t=t.key,r={"=":"=0",":":"=2"},"$"+(""+t).replace(/[=:]/g,function(t){return r[t]})):e.toString(36);var r}function M(t,e){t.func.call(t.context,e,t.count++)}function L(t,e,r){var n=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?j(t,n,r,function(t){return t}):null!=t&&(A(t)&&(e=i+(!(i=t).key||e&&e.key===t.key?"":(""+t.key).replace(x,"$&/")+"/")+r,t={$$typeof:h,type:i.type,key:e,ref:i.ref,props:i.props,_owner:i._owner}),n.push(t))}function j(t,e,r,n,i){var s="";I(t,L,e=O(e,s=null!=r?(""+r).replace(x,"$&/")+"/":s,n,i)),D(e)}var R={current:null};function P(){var t=R.current;if(null===t)throw Error(p(321));return t}e={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:u};t.Children={map:function(t,e,r){return null==t||j(t,t=[],null,e,r),t},forEach:function(t,e,r){if(null==t)return t;I(t,M,e=O(null,null,e,r)),D(e)},count:function(t){return I(t,function(){return null},null)},toArray:function(t){var e=[];return j(t,e,null,function(t){return t}),e},only:function(t){if(A(t))return t;throw Error(p(143))}},t.Component=v,t.Fragment=r,t.Profiler=i,t.PureComponent=w,t.StrictMode=n,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e,t.cloneElement=function(t,e,r){if(null==t)throw Error(p(267,t));var n=u({},t.props),i=t.key,s=t.ref,o=t._owner;if(null!=e)for(a in void 0!==e.ref&&(s=e.ref,o=_.current),void 0!==e.key&&(i=""+e.key),t.type&&t.type.defaultProps&&(c=t.type.defaultProps),e)k.call(e,a)&&!S.hasOwnProperty(a)&&(n[a]=(void 0===e[a]&&void 0!==c?c:e)[a]);var a=arguments.length-2;if(1===a)n.children=r;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];n.children=c}return{$$typeof:h,type:t.type,key:i,ref:s,props:n,_owner:o}},t.createContext=function(t,e){return(t={$$typeof:o,_calculateChangedBits:e=void 0===e?null:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},t.createElement=E,t.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},t.createRef=function(){return{current:null}},t.forwardRef=function(t){return{$$typeof:a,render:t}},t.isValidElement=A,t.lazy=function(t){return{$$typeof:f,_ctor:t,_status:-1,_result:null}},t.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},t.useCallback=function(t,e){return P().useCallback(t,e)},t.useContext=function(t,e){return P().useContext(t,e)},t.useDebugValue=function(){},t.useEffect=function(t,e){return P().useEffect(t,e)},t.useImperativeHandle=function(t,e,r){return P().useImperativeHandle(t,e,r)},t.useLayoutEffect=function(t,e){return P().useLayoutEffect(t,e)},t.useMemo=function(t,e){return P().useMemo(t,e)},t.useReducer=function(t,e,r){return P().useReducer(t,e,r)},t.useRef=function(t){return P().useRef(t)},t.useState=function(t){return P().useState(t)},t.version="16.14.0"},function(t,e,r){"use strict";var n=r(7),i=r(41),s=r(68),o=r(47);function a(t){var t=new s(t),e=i(s.prototype.request,t);return n.extend(e,s.prototype,t),n.extend(e,t),e}var c=a(r(30));c.Axios=s,c.create=function(t){return a(o(c.defaults,t))},c.Cancel=r(48),c.CancelToken=r(82),c.isCancel=r(46),c.all=function(t){return Promise.all(t)},c.spread=r(83),c.isAxiosError=r(84),t.exports=c,t.exports.default=c},function(t,e,r){"use strict";var n=r(7),i=r(42),s=r(69),u=r(70),h=r(47),d=r(80),f=d.validators;function o(t){this.defaults=t,this.interceptors={request:new s,response:new s}}o.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=h(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t,r=e.transitional,n=(void 0!==r&&d.assertOptions(r,{silentJSONParsing:f.transitional(f.boolean,"1.0.0"),forcedJSONParsing:f.transitional(f.boolean,"1.0.0"),clarifyTimeoutError:f.transitional(f.boolean,"1.0.0")},!1),[]),i=!0,s=(this.interceptors.request.forEach(function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}),[]);if(this.interceptors.response.forEach(function(t){s.push(t.fulfilled,t.rejected)}),i){for(var o=e;n.length;){var a=n.shift(),c=n.shift();try{o=a(o)}catch(t){c(t);break}}try{t=u(o)}catch(t){return Promise.reject(t)}for(;s.length;)t=t.then(s.shift(),s.shift())}else{var l=[u,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(s),t=Promise.resolve(e);l.length;)t=t.then(l.shift(),l.shift())}return t},o.prototype.getUri=function(t){return t=h(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],function(r){o.prototype[r]=function(t,e){return this.request(h(e||{},{method:r,url:t,data:(e||{}).data}))}}),n.forEach(["post","put","patch"],function(n){o.prototype[n]=function(t,e,r){return this.request(h(r||{},{method:n,url:t,data:e}))}}),t.exports=o},function(t,e,r){"use strict";var n=r(7);function i(){this.handlers=[]}i.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},t.exports=i},function(t,e,r){"use strict";var n=r(7),i=r(71),s=r(46),o=r(30);function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(e){return a(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||o.adapter)(e).then(function(t){return a(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t},function(t){return s(t)||(a(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(t,e,r){"use strict";var i=r(7),s=r(30);t.exports=function(e,r,t){var n=this||s;return i.forEach(t,function(t){e=t.call(n,e,r)}),e}},function(t,e,r){"use strict";var i=r(7);t.exports=function(r,n){i.forEach(r,function(t,e){e!==n&&e.toUpperCase()===n.toUpperCase()&&(r[n]=t,delete r[e])})}},function(t,e,r){"use strict";var i=r(45);t.exports=function(t,e,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(i("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){"use strict";var a=r(7);t.exports=a.isStandardBrowserEnv()?{write:function(t,e,r,n,i,s){var o=[];o.push(t+"="+encodeURIComponent(e)),a.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),a.isString(n)&&o.push("path="+n),a.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){t=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){"use strict";var n=r(76),i=r(77);t.exports=function(t,e){return t&&!n(e)?i(t,e):e}},function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,r){"use strict";var i=r(7),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,n={};return t&&i.forEach(t.split("\n"),function(t){r=t.indexOf(":"),e=i.trim(t.substr(0,r)).toLowerCase(),r=i.trim(t.substr(r+1)),!e||n[e]&&0<=s.indexOf(e)||(n[e]="set-cookie"===e?(n[e]||[]).concat([r]):n[e]?n[e]+", "+r:r)}),n}},function(t,e,r){"use strict";var n,i,s,o=r(7);function a(t){return i&&(s.setAttribute("href",t),t=s.href),s.setAttribute("href",t),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:"/"===s.pathname.charAt(0)?s.pathname:"/"+s.pathname}}t.exports=o.isStandardBrowserEnv()?(i=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a"),n=a(window.location.href),function(t){t=o.isString(t)?a(t):t;return t.protocol===n.protocol&&t.host===n.host}):function(){return!0}},function(t,e,r){"use strict";var a=r(81),n={},c=(["object","boolean","number","function","string","symbol"].forEach(function(e,r){n[e]=function(t){return typeof t===e||"a"+(r<1?"n ":" ")+e}}),{}),s=a.version.split(".");function l(t,e){for(var r=e?e.split("."):s,n=t.split("."),i=0;i<3;i++){if(r[i]>n[i])return!0;if(r[i]<n[i])return!1}return!1}n.transitional=function(n,i,r){var s=i&&l(i);function o(t,e){return"[Axios v"+a.version+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(t,e,r){if(!1===n)throw new Error(o(e," has been removed in "+i));return s&&!c[e]&&(c[e]=!0,console.warn(o(e," has been deprecated since v"+i+" and will be removed in the near future"))),!n||n(t,e,r)}},t.exports={isOlderVersion:l,assertOptions:function(t,e,r){if("object"!=typeof t)throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;0<i--;){var s=n[i],o=e[s];if(o){var a=t[s],o=void 0===a||o(a,s,t);if(!0!==o)throw new TypeError("option "+s+" must be "+o)}else if(!0!==r)throw Error("Unknown option "+s)}},validators:n}},function(t){t.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(t,e,r){"use strict";var n=r(48);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");this.promise=new Promise(function(t){e=t});var e,r=this;t(function(t){r.reason||(r.reason=new n(t),e(r.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},t.exports=i},function(t,e,r){"use strict";t.exports=function(e){return function(t){return e.apply(null,t)}}},function(t,e,r){"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},function(t,e,r){"use strict";e.byteLength=function(t){var t=u(t),e=t[0],t=t[1];return 3*(e+t)/4-t},e.toByteArray=function(t){var e,r,n=u(t),i=n[0],n=n[1],s=new l(function(t,e){return 3*(t+e)/4-e}(i,n)),o=0,a=0<n?i-4:i;for(r=0;r<a;r+=4)e=c[t.charCodeAt(r)]<<18|c[t.charCodeAt(r+1)]<<12|c[t.charCodeAt(r+2)]<<6|c[t.charCodeAt(r+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=255&e;2===n&&(e=c[t.charCodeAt(r)]<<2|c[t.charCodeAt(r+1)]>>4,s[o++]=255&e);1===n&&(e=c[t.charCodeAt(r)]<<10|c[t.charCodeAt(r+1)]<<4|c[t.charCodeAt(r+2)]>>2,s[o++]=e>>8&255,s[o++]=255&e);return s},e.fromByteArray=function(t){for(var e,r=t.length,n=r%3,i=[],s=0,o=r-n;s<o;s+=16383)i.push(function(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),i.push(function(t){return a[t>>18&63]+a[t>>12&63]+a[t>>6&63]+a[63&t]}(n));return i.join("")}(t,s,o<s+16383?o:s+16383));1==n?(e=t[r-1],i.push(a[e>>2]+a[e<<4&63]+"==")):2==n&&(e=(t[r-2]<<8)+t[r-1],i.push(a[e>>10]+a[e>>4&63]+a[e<<2&63]+"="));return i.join("")};for(var a=[],c=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)a[i]=n[i],c[n.charCodeAt(i)]=i;function u(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");t=t.indexOf("="),e=(t=-1===t?e:t)===e?0:4-t%4;return[t,e]}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,i){var s,o,a=8*i-n-1,c=(1<<a)-1,l=c>>1,u=-7,h=r?i-1:0,d=r?-1:1,i=t[e+h];for(h+=d,s=i&(1<<-u)-1,i>>=-u,u+=a;0<u;s=256*s+t[e+h],h+=d,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;0<u;o=256*o+t[e+h],h+=d,u-=8);if(0===s)s=1-l;else{if(s===c)return o?NaN:1/0*(i?-1:1);o+=Math.pow(2,n),s-=l}return(i?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,a,c=8*s-i-1,l=(1<<c)-1,u=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,f=n?1:-1,s=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(n=Math.pow(2,-o))<1&&(o--,n*=2),2<=(e+=1<=o+u?h/n:h*Math.pow(2,1-u))*n&&(o++,n/=2),l<=o+u?(a=0,o=l):1<=o+u?(a=(e*n-1)*Math.pow(2,i),o+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,i),o=0));8<=i;t[r+d]=255&a,d+=f,a/=256,i-=8);for(o=o<<i|a,c+=i;0<c;t[r+d]=255&o,d+=f,o/=256,c-=8);t[r+d-f]|=128*s}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},,,,,,,,,,,,function(t,e,r){"use strict";var a=wp.element.render,c=(wp.i18n.__,jQuery);e.a=function(){var e,r,s,n="gp-active-users",t=document.querySelector("#multiedit-top-share"),i=wp.data.select("mdstore").getUserCapability(),o="cf-commentor-inactive";i&&"commenter"===(null==i?void 0:i.capability)&&(o="cf-commentor-active"),t&&(document.querySelector("#gp-active-users-wrapper")?e=document.querySelector("#".concat(n,"-wrapper")):((e=document.createElement("div")).classList.add(o),e.id="".concat(n,"-wrapper"),t.before(e)),r=(r=0<(r=wp.data.select("multiedit/block-collab/add-block-selections").getState()).length?r.sort(function(t,e){return t.userId-e.userId}):[]).filter(function(e,t,r){return r.findIndex(function(t){return t.userId===e.userId})===t}),s=window.innerWidth<845?1:8,0<Object.keys(r).length&&(i={action:"realtime_collaborators_update_ajax",activeUsers:JSON.stringify(r),postID:wp.data.select("core/editor").getCurrentPostId()},c.post(ajaxurl,i,function(t){wp.data.dispatch("core/editor").editPost({meta:{_realtime_collaborators:t}})})),setTimeout(function(){var i=null==(t=wp.data.select("core/editor").getEditedPostAttribute("meta"))?void 0:t._realtime_collaborators,t=null==(t=wp.data.select("core/editor").getEditedPostAttribute("meta"))?void 0:t._is_real_time_mode;a(r&&0<Object.keys(r).length&&!0===t&&React.createElement("div",{id:n,className:"active-users"},React.createElement("div",{className:"active-user-round-main"},Array.from(r).map(function(t,e){var r,n;if(i&&(n=JSON.parse(i))[t.userId]&&(r=n[t.userId].userAvatar),e<s)return React.createElement(React.Fragment,null,React.createElement("div",{className:"active-user-round"},r?React.createElement("img",{src:r,alt:"avatar",style:{border:"3px solid ".concat(t.color),background:t.color}}):t.username.charAt(0).toUpperCase(),React.createElement("span",{className:"active-user-round-tooltip",title:t.username,style:{background:t.color}}," ",15<t.username.length?t.username.substring(0,15)+"...":t.username," ")))})),Object.keys(r).length>s&&React.createElement("div",{class:"active-users-plus-minus"},React.createElement("div",{class:"active-user-dropdown"},Array.from(r).map(function(t,e){var r,n;if(i&&(n=JSON.parse(i))[t.userId]&&(r=n[t.userId].userAvatar),s<=e)return React.createElement("div",{className:"active-user-dropdown-single"},React.createElement("span",{className:"active-user-name"},r?React.createElement("img",{src:r,alt:"avatar",style:{border:"3px solid ".concat(t.color),background:t.color}}):t.username.charAt(0).toUpperCase()),React.createElement("span",{className:"active-user-dropdown-name"}," ",15<t.username.length?t.username.substring(0,15)+"...":t.username," "))})),React.createElement("span",{class:"active-user-count"},"+",Object.keys(r).length-s),React.createElement("span",{class:"active-user-arrow"}))),document.getElementById(e.id))},300))}},function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return s});var n=r(5),e=r(4);const i=Number.MAX_SAFE_INTEGER;Number.MIN_SAFE_INTEGER,e.i,e.j;const s=Number.isInteger||(t=>"number"==typeof t&&isFinite(t)&&n.d(t)===t);Number.isNaN,Number.parseInt},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";r.d(e,"a",function(){return n});r(22);const i=/[\uD800-\uDBFF]/,s=/[\uDC00-\uDFFF]/,n=(t,e)=>{let r=0,n=0;for(;r<t.length&&r<e.length&&t[r]===e[r];)r++;for(0<r&&i.test(t[r-1])&&r--;n+r<t.length&&n+r<e.length&&t[t.length-n-1]===e[e.length-n-1];)n++;return 0<n&&s.test(t[t.length-n])&&n--,{index:r,remove:t.length-r-n,insert:e.slice(r,e.length-n)}};n},function(t,e,r){"use strict";r.d(e,"a",function(){return n});const n=t=>void 0===t?null:t},,,,function(t,r,Q){"use strict";!function(m){var N=Q(6),B=Q(137),b=Q(11),q=Q(143),t=Q(0),o=Q.n(t),t=Q(13),F=Q.n(t),J=Q(99),v=Q(10);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,s,o,a=[],c=!0,l=!1;try{if(s=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){var r,n,i,s,o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return n=!(r=!0),{s:function(){o=o.call(t)},n:function(){var t=o.next();return r=t.done,t},e:function(t){n=!0,i=t},f:function(){try{r||null==o.return||o.return()}finally{if(n)throw i}}};if(Array.isArray(t)||(o=a(t))||e&&t&&"number"==typeof t.length)return o&&(t=o),s=0,{s:e=function(){},n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){var r;if(t)return"string"==typeof t?n(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y(n.key),n)}}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Y(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=g(r),e=(t=n?(t=g(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,r){(e=y(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}function y(t){t=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==i(t)?t:String(t)}function w(){return D("core/block-editor").getBlocks()}function k(t,r,o){return N.e(V,t,function(){var a=new b.b,n=Object(v.c)(a,t),c=a.getArray("gutenberg-blocks"),i=a.getArray("gutenberg-real-time-enabled"),l=n.awareness;return null!=n&&n.on("sync",function(){function s(){console.log("updateEditor");var e,r,t,n,i,s=c.toJSON(),o=(Object(v.i)()&&(o=(e=null==(o=wp.data.select("core/block-editor").getSelectionStart())?void 0:o.clientId)?wp.data.select("core/block-editor").getBlock(e):"",r=null==o||null==(t=o.attributes)?void 0:t.content,t=e?s.filter(function(t){return t.clientId===e}):"",""!==o)&&""!==t&&s.forEach(function(t){return t.clientId===e&&(t.attributes.content=r),t}),Object(v.b)(c),I("core/block-editor").resetBlocks(s),l.getLocalState());G(c)||(t=L(c.toJSON()),c.delete(0,null==(s=c.toArray())?void 0:s.length),c.insert(0,t)),!Object(v.i)()&&null!=o&&null!=(s=o.userData)&&s.relativeSelectionStart&&(s=b.f(null==o||null==(t=o.userData)?void 0:t.relativeSelectionStart,a),t=b.f(null==o||null==(t=o.userData)?void 0:t.relativeSelectionEnd,a),i=null==(i=U(null==o||null==(i=o.userData)?void 0:i.selectionStart.clientId,c))?void 0:i.toJSON())&&0<Object.keys(i).length&&(n=null==o||null==(n=o.userData)||null==(n=n.selectionStart)?void 0:n.attributeKey,i=i.attributes[n],n=Object(v.a)(i,Object(v.g)(i),null==s?void 0:s.index),s=Object(v.a)(i,Object(v.g)(i),null==t?void 0:t.index),I("core/block-editor").selectionChange(null==o||null==(i=o.userData)?void 0:i.selectionStart.clientId,null==o||null==(t=o.userData)?void 0:t.selectionStart.attributeKey,null==n?void 0:n.index,null==s?void 0:s.index))}i.observeDeep(function(t,e){var r;e.origin!==R&&(e=i.toArray()[0],r=null==(r=D("core/editor").getEditedPostAttribute("meta"))?void 0:r._is_real_time_mode,!e)&&r&&(I("core/editor").lockPostSaving("realtime-lock"),I("core/editor").lockPostAutosaving("realtime-lock"),n.disconnect(),a.destroy(),I("core/editor").editPost({meta:{_is_real_time_mode:!1}}),document.body.classList.remove("cf-realtime-enable"),null!=(e=I("multiedit/block-collab/add-block-selections"))&&e.setState([]),"draft"===D("core/editor").getEditedPostAttribute("status")&&(r=document.querySelector(".editor-post-save-draft"))&&(r.disabled=!0),document.querySelector(".editor-post-publish-button__button").disabled=!0,I("core/notices").createErrorNotice("Real-Time Co-editing has been disabled for this post",{type:"default",isDismissible:!0,id:"realtime-disabled"}))}),c.observeDeep(function(t,e){var r,n,i;e.origin!==R&&(e=D("core/block-editor").getSelectionStart(),r=D("core/block-editor").getSelectionEnd(),i=!!(i=D("core/block-editor").getBlockParents(e.clientId)[0])&&D("core/block-editor").hasSelectedInnerBlock(i,!0),n="",1===document.querySelectorAll("body .block-editor-url-input__input").length&&(n=document.querySelector("body .block-editor-url-input__input").value),s(),""!==n&&setTimeout(function(){document.querySelector("body .block-editor-url-input__input").value=n},100),i)&&(i=D("core/block-editor").getSelectionStart(),0===Object.keys(i).length)&&wp.data.dispatch("core/block-editor").selectionChange(e.clientId,e.attributeKey,e.offset,r.offset)}),window.addEventListener("pagehide",function(t){l.setLocalStateField("userRemoved","yes")}),l.on("change",function(t,e){var r=t.added,t=(t.updated,t.removed),n=(l.setLocalStateField("clientId",l.clientID),Array.from(l.getStates().values())),i=D("core/block-editor").getSelectionStart(),s=D("core/block-editor").getSelectionEnd(),r=(0<r.length&&j.push(r[0]),0<j.length&&j.forEach(function(e,t){var r=n.find(function(t){return t.clientId===e});r&&r.userData&&(r=r.user,Object(v.j)(r,"joined"),j.splice(t,1),1<n.length)&&(I("core/block-editor").selectionChange(i.clientId,i.attributeKey),I("core/block-editor").selectionChange(i.clientId,i.attributeKey,i.offset,s.offset))}),n.filter(function(t){return"yes"===t.userRemoved}));0<r.length&&(r=r.map(function(t){return t.user})[0],Object(v.j)(r,"left")),t[0]===l.clientID&&(I("core/block-editor").selectionChange(i.clientId,i.attributeKey),I("core/block-editor").selectionChange(i.clientId,i.attributeKey,i.offset,s.offset)),Object(v.i)()||m(function(){Object(v.e)()||K(n,a)})}),x&&l.setLocalStateField("user",x.id);var e=0===Array.from(l.getStates().values()).filter(function(t){return t.user!==(null==(t=x)?void 0:t.id)}).length?0:c.length;0<e?s():I("core").receiveEntityRecords(r,o,t).then(function(t){0===e&&t.blocks&&c.insert(0,L(t.blocks))})}),{ydoc:a,provider:n,type:c,isRealTimeEnabled:i}})}var S,E,A,x,C,O=jQuery,t=wp.compose.createHigherOrderComponent,e=(wp.i18n.__,wp.element),W=e.Fragment,z=e.Component,$=e.createRef,e=(e.createElement,wp.data),D=e.select,I=e.dispatch,T=[],M=[],H=!1,j=[],V=new Map,R=Symbol("gutenberg-sourced-change"),K=(r.a=t(function(s){return function(){var t=i,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);var r,n=Y(i);function i(t){var e;if(this instanceof i)return p(f(e=n.call(this,t)),"handleBoardClick",function(t){t.target.closest(".cls-board-outer")&&(t=t.target.closest(".cls-board-outer").id,e.setState({commentId:t}))}),e.handleLoad=e.handleLoad.bind(f(e)),e.handleBlockUpdate=e.handleBlockUpdate.bind(f(e)),e.realTimeBlockUpdates=e.realTimeBlockUpdates.bind(f(e)),e.ref=$(),e.state={selectionStart:D("core/block-editor").getSelectionStart().hasOwnProperty("offset")?D("core/block-editor").getSelectionStart():{offset:void 0},selectionEnd:D("core/block-editor").getSelectionEnd().hasOwnProperty("offset")?D("core/block-editor").getSelectionEnd():{offset:void 0},commentId:document.querySelector(".is-open")?document.querySelector(".is-open").id:""},e;throw new TypeError("Cannot call a class as a function")}return t=i,(e=[{key:"realTimeBlockUpdates",value:function(){var n=this;wp.data.subscribe(function(){var t,e,r;!0===(null==(e=D("core/editor").getEditedPostAttribute("meta"))?void 0:e._is_real_time_mode)&&(parseFloat(multicollab_wp_version.wp_version)>=parseFloat(6.2)&&(e=D("core/block-editor").getSelectionStart().hasOwnProperty("offset")?D("core/block-editor").getSelectionStart():{offset:void 0},t=D("core/block-editor").getSelectionEnd().hasOwnProperty("offset")?D("core/block-editor").getSelectionEnd():{offset:void 0},_.isEqual(e,n.state.selectionStart)||n.setState({selectionStart:e}),_.isEqual(t,n.state.selectionEnd)||n.setState({selectionEnd:t})),(e=document.querySelector(".is-open")?document.querySelector(".is-open").id:"")!==n.state.commentId&&n.setState({commentId:e}),C=w(),t=wp.data.select("multiedit/block-collab/add-block-selections").getState(),r=(r=(r=(r=Array.from(t).map(function(t){return t.userId})).filter(function(t,e,r){return r.indexOf(t)===e})).filter(function(t){return t})).sort(),JSON.stringify(r)!==JSON.stringify(M)&&(Object(J.a)(),M=r),JSON.stringify(r)!==JSON.stringify(T))&&(r.filter(function(t){return!T.includes(t)}),T.filter(function(t){return!r.includes(t)}),null==(e=D("core"))||null==(e=e.getCurrentUser())||e.id,T=r,"cf-activity-center/cf-activity-center"===wp.data.select("core/edit-post").getActiveGeneralSidebarName())&&(I("core/edit-post").closeGeneralSidebar(),wp.data.dispatch("core/edit-post").openGeneralSidebar("cf-activity-center/cf-activity-center")),-1!=navigator.userAgent.indexOf("Firefox")&&null!=(t=D("core/editor").getEditedPostAttribute("meta"))&&t._is_real_time_mode&&O(".components-modal__screen-overlay").hide()})}},{key:"componentDidUpdate",value:function(e,t){var r,n,i,s,o,a,c,l,u,h;!0===(null==(s=D("core/editor").getEditedPostAttribute("meta"))?void 0:s._is_real_time_mode)&&!1===(null==(s=D("core/editor").getEditedPostAttribute("meta"))?void 0:s._sb_is_suggestion_mode)&&(O(document).on("click keydown",".is-selected",function(t){var e;null!=D("core/block-editor").getSelectedBlock()&&(null==(e=D("core/editor").getEditedPostAttribute("meta"))?void 0:e._is_real_time_mode)&&(wp.keycodes.isKeyboardEvent.primary(t,"z")||wp.keycodes.isKeyboardEvent.primary(t,"y"))&&t.stopImmediatePropagation()}),s=this.props,r=s.attributes,s.setAttributes,n=s.clientId,s.isSelected,s=Object.keys(r).filter(function(t){return r[t]!==e.attributes[t]}),i=null==e?void 0:e.attributes[s[0]],s=r[s[0]],o=t.commentId,a=this.state.commentId,c=null==(c=D("core/block-editor").getSelectionStart())?void 0:c.clientId,l=(u=this.state).selectionStart,u=u.selectionEnd,parseFloat(multicollab_wp_version.wp_version)>=parseFloat(6.2)?(h=t.selectionStart,t=t.selectionEnd,((!_.isEqual(h,l)||!_.isEqual(t,u)||i!==s||!_.isEqual(o,a)&&""!==a)&&n.includes(c)||!_.isEqual(o,a)&&""!==a&&void 0===c)&&(C=w(),S)&&E&&(P(S,"postType",E,C,a),this.setState({commentId:a}))):(h=D("core/block-editor").getSelectionStart().hasOwnProperty("offset")?D("core/block-editor").getSelectionStart():{offset:void 0},t=D("core/block-editor").getSelectionEnd().hasOwnProperty("offset")?D("core/block-editor").getSelectionEnd():{offset:void 0},((!_.isEqual(h,l)||!_.isEqual(t,u)||i!==s||!_.isEqual(o,a)&&""!==a)&&n.includes(c)||!_.isEqual(o,a)&&""!==a&&void 0===c)&&(C=w(),S)&&E&&(P(S,"postType",E,C,a),this.setState({commentId:a}),_.isEqual(h,this.state.selectionStart)||this.setState({selectionStart:h}),_.isEqual(t,this.state.selectionEnd)||this.setState({selectionEnd:t}))))}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleBoardClick),this.handleLoad();var t=null==(t=D("core/editor").getEditedPostAttribute("meta"))?void 0:t._is_real_time_mode,e=this.props.clientId,r=null==(r=D("core/block-editor").getSelectionStart())?void 0:r.clientId;e.includes(r)&&t&&(C=w(),S)&&E&&(e=this.state.commentId,P(S,"postType",E,C,e))}},{key:"componentWillUnmount",value:function(){var t=null==(t=D("core/editor").getEditedPostAttribute("meta"))?void 0:t._is_real_time_mode,e=this.props.clientId,r=null==(r=D("core/block-editor").getSelectionStart())?void 0:r.clientId;e.includes(r)&&t&&(C=w(),S)&&E&&(e=this.state.commentId,P(S,"postType",E,C,e))}},{key:"handleLoad",value:function(){C=w(),this.realTimeBlockUpdates()}},{key:"handleBlockUpdate",value:function(){var t;(null==(t=this.ref.current)?void 0:t.closest(".block-editor-block-preview__content-iframe"))||(C=w(),S&&E&&((t=this.state).selectionStart,t.selectionEnd,t=t.commentId,P(S,"postType",E,C,t)))}},{key:"render",value:function(){return o.a.createElement(W,null,o.a.createElement(s,this.props))}}])&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}()},"withBlockExtendControls"),window.addEventListener("load",function(t){O(document).on("focusout",".cf-share-comment",function(t){var e,r,n,i,s,o,a=!1,c=!1;null!=t&&null!=(t=t.relatedTarget)&&null!=(t=t.className)&&t.includes("btn-cancel")&&O(this).closest(".cls-board-outer").find(".boardTop").children().length<=1&&(c=null==(t=O(this).closest(".cls-board-outer"))?void 0:t.attr("id")),O("[datatext="+c+"]").hasClass("wp-block")&&(a=!0),S&&E&&(o=(t=k(S,"postType",E)).type,n=t.provider,s=t.ydoc,t.isRealTimeEnabled,t=n.awareness,n=null==(n=(e=null==(n=wp.data.select("core/block-editor").getSelectionStart())?void 0:n.clientId)?wp.data.select("core/block-editor").getBlock(e):"")||null==(n=n.attributes)?void 0:n.content,(i=o.toJSON()).forEach(function(t){return t.clientId===e&&(a&&c?t.attributes.datatext="":(r=t.attributes.content,c&&(t.attributes.content=Object(v.f)(r,c)))),t}),c&&(n=Object(v.f)(n,c)),!a&&n===r||I("core/block-editor").resetBlocks(i),n=t.getLocalState(),O("#block-"+(null==n||null==(i=n.userData)?void 0:i.selectionStart.clientId)).attr("data-realtime-discard",!0),!a)&&null!=n&&null!=(t=n.userData)&&t.relativeSelectionStart&&(t=b.f(null==n||null==(i=n.userData)?void 0:i.relativeSelectionStart,s),i=b.f(null==n||null==(i=n.userData)?void 0:i.relativeSelectionEnd,s),o=null==(s=U(null==n||null==(s=n.userData)?void 0:s.selectionStart.clientId,o))?void 0:s.toJSON())&&0<Object.keys(o).length&&(s=null==n||null==(s=n.userData)||null==(s=s.selectionStart)?void 0:s.attributeKey,o=o.attributes[s],s=Object(v.a)(o,Object(v.g)(o),null==t?void 0:t.index),t=Object(v.a)(o,Object(v.g)(o),null==i?void 0:i.index),I("core/block-editor").selectionChange(null==n||null==(o=n.userData)?void 0:o.selectionStart.clientId,null==n||null==(i=n.userData)?void 0:i.selectionStart.attributeKey,null==s?void 0:s.index,null==t?void 0:t.index))});var e=setInterval(function(){var t;(null==(t=D("core/editor").getEditedPostAttribute("meta"))?void 0:t._is_real_time_mode)&&(S=D("core/editor").getCurrentPostId(),E=D("core/editor").getCurrentPostType(),x=D("core").getCurrentUser(),S)&&E&&x&&(A=null==(t=I("multiedit/block-collab/add-block-selections"))?void 0:t.setState,k(S,"postType",E),clearInterval(e))},1e3)}),function(t,s){var o=[],a=s.getArray("gutenberg-blocks");t.forEach(function(t){var e,r,n,i;null!=t.userData&&(r=b.f(null==t||null==(r=t.userData)?void 0:r.relativeSelectionStart,s),n=b.f(null==t||null==(n=t.userData)?void 0:n.relativeSelectionEnd,s),i=null==(i=U(null==(i=t.userData)?void 0:i.selectionStart.clientId,a))?void 0:i.toJSON())&&0<Object.keys(i).length&&(e=null==t||null==(e=t.userData)||null==(e=e.selectionStart)?void 0:e.attributeKey,i=i.attributes[e],e=Object(v.a)(i,Object(v.g)(i),null==r?void 0:r.index),r=Object(v.a)(i,Object(v.g)(i),null==n?void 0:n.index),n=l(l({},t.userData),{},{selectionStart:null==e?void 0:e.index,selectionEnd:null==r?void 0:r.index,attributeKey:null==t||null==(i=t.userData)||null==(i=i.selectionStart)?void 0:i.attributeKey}),o.push(n))}),0<o.length&&A(o)}),P=function(t,e,r,n,i){var s,o,a,c,l,u,h,d,t=k(t,e,r),f=t.type,e=t.provider,g=t.ydoc,p=t.isRealTimeEnabled,t=(H||(H=!0,t=[{userId:null==(r=D("core"))||null==(r=r.getCurrentUser())?void 0:r.id,timestamp:getTimestampWithTimezone(),type:"Joined"}],0<Object.keys(t).length&&((r=new URLSearchParams).append("action","realtime_collaborators_activity_update_ajax"),r.append("currentUser",JSON.stringify(t)),r.append("postID",D("core/editor").getCurrentPostId()),F.a.post(ajaxurl,r))),null==e?void 0:e.awareness);null!=e&&e.synced&&(s=null==(r=D("core/block-editor").getSelectedBlock())?void 0:r.clientId,o=D("core/block-editor").getSelectionStart(),e=D("core/block-editor").getSelectionEnd(),a=(new q.a).hex(x.name),c=x.name,l=x.id,u=i,1===Array.from(t.getStates().values()).length&&m(function(){Object(v.e)()||A([{blockUID:s,selectionStart:o.offset,selectionEnd:o.offset,color:a,username:c,userId:l,peerId:12345,commentId:u,attributeKey:o.attributeKey}])}),g.transact(function(){var t,e=null==(e=D("core/editor").getEditedPostAttribute("meta"))?void 0:e._is_real_time_mode;p.delete(0,null==(t=p.toArray())?void 0:t.length),p.insert(0,[e])},R),h=f.toJSON(),g.transact(function(){X(f,h,n,g)},R),null!=o.offset)&&null!==(r=U(o.clientId,f))&&(i=r.get("attributes").get(o.attributeKey))&&(s||""!==u)&&(r=Object(v.a)(Object(v.g)(i.toString()),i.toString(),o.offset),d=Object(v.a)(Object(v.g)(i.toString()),i.toString(),e.offset),r=b.g(i,null==r?void 0:r.index),i=b.g(i,null==d?void 0:d.index),t.setLocalStateField("userData",{blockUID:s,selectionStart:o,selectionEnd:e,relativeSelectionStart:r,relativeSelectionEnd:i,color:a,username:c,userId:l,peerId:12345,commentId:u}))},U=function t(e,r){var n,i=c(r.toArray());try{for(i.s();!(n=i.n()).done;){var s,o=n.value;if(o.get("clientId")===e)return o;if(0<(null==(s=o.get("innerBlocks"))?void 0:s.length)){var a=t(e,o.get("innerBlocks"));if(a)return a}}}catch(t){i.e(t)}finally{i.f()}return null},G=function(t){var e,r=c(t.toArray());try{for(r.s();!(e=r.n()).done;)if(e.value instanceof b.c)return!0}catch(t){r.e(t)}finally{r.f()}return!1},L=function i(t){var e;return t?(e=[],t.forEach(function(t){var n=new b.c,r=new b.c;Object.entries(t.attributes).forEach(function(t){var t=h(t,2),e=t[0],t=t[1];t instanceof Date?r.set(e,t.toString()):Object(v.d)(e)?r.set(e,new b.d(t)):r.set(e,t)}),n.set("attributes",r),Object.entries(t).forEach(function(t){var e,t=h(t,2),r=t[0],t=t[1];"attributes"!==r&&"innerBlocks"!==r&&n.set(r,t),"innerBlocks"===r&&(t=i(t),(e=new b.a).insert(0,t),n.set(r,e))}),e.push(n)}),e):[]},X=function t(e,r,n,i){var s,o,a,c,l=Object(v.h)(r,n),u=!1;1===l.remove&&1===l.insert.length?(s=r[r=l.index],n=n[r],a=D("core/block-editor").getSelectionStart(),o=null==a?void 0:a.attributeKey,(s.attributes.hasOwnProperty(o)||n.attributes.hasOwnProperty(o))&&(u=B.a(null!=(a=s.attributes[o])?a:"",null!=(a=n.attributes[o])?a:"")),a=e.get(r),c=a.get("attributes"),u&&(0<u.remove||0<u.insert.length)&&((r=a.get("attributes").get(o))?(r.delete(u.index,u.remove),r.insert(u.index,u.insert)):c.set(o,new b.d(u.insert))),Object.entries(n.attributes).forEach(function(t){var t=h(t,2),e=t[0],t=t[1];"innerBlocks"!==e&&e!==o&&(t instanceof Date?c.set(e,t.toString()):Object(v.d)(e)?c.set(e,new b.d(t)):c.set(e,t))}),s.hasOwnProperty("innerBlocks")&&n.hasOwnProperty("innerBlocks")&&(0<s.innerBlocks.length||0<n.innerBlocks.length)&&t(a.get("innerBlocks"),s.innerBlocks,n.innerBlocks,i),s.name!==n.name&&(e.delete(l.index,l.remove),r=L(l.insert),e.insert(l.index,r))):(0<l.remove||0<l.insert.length)&&(e.delete(l.index,l.remove),u=L(l.insert),e.insert(l.index,u))}}.call(this,Q(64).setImmediate)},function(t,e,r){"use strict";r.d(e,"a",function(){return b});var o,w,a,c,_,k,S,E,A,x,C,O,D,l,u,I,h,d,T=function(t,e,r){if(e.has(t))return e.set(t,r),r;throw new TypeError("attempted to set private field on non-instance")},M=function(t,e){if(e.has(t))return e.get(t);throw new TypeError("attempted to get private field on non-instance")};function n(e){var r=0,n=(e+="x",Math.floor(65745979961613.07));for(let t=0;t<e.length;t++)r=131*(r=n<r?Math.floor(r/137):r)+e.charCodeAt(t);return r}const f="0123456789abcdef".split(""),i=[-2147483648,8388608,32768,128],g=[24,16,8,0],j=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=[];class p{constructor(t=!1,e=!1){o.set(this,void 0),w.set(this,void 0),a.set(this,void 0),c.set(this,void 0),_.set(this,void 0),k.set(this,void 0),S.set(this,void 0),E.set(this,void 0),A.set(this,void 0),x.set(this,void 0),C.set(this,void 0),O.set(this,void 0),D.set(this,void 0),l.set(this,void 0),u.set(this,void 0),I.set(this,void 0),h.set(this,0),d.set(this,void 0),this.init(t,e)}init(t,e){e?(s[0]=s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0,T(this,w,s)):T(this,w,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t?(T(this,k,3238371032),T(this,S,914150663),T(this,E,812702999),T(this,A,4144912697),T(this,x,4290775857),T(this,C,1750603025),T(this,O,1694076839),T(this,D,3204075428)):(T(this,k,1779033703),T(this,S,3144134277),T(this,E,1013904242),T(this,A,2773480762),T(this,x,1359893119),T(this,C,2600822924),T(this,O,528734635),T(this,D,1541459225)),T(this,o,T(this,d,T(this,a,T(this,u,0)))),T(this,c,T(this,l,!1)),T(this,_,!0),T(this,I,t)}update(t){if(!M(this,c)){let e,r=0;for(var n=(e=t instanceof ArrayBuffer?new Uint8Array(t):t).length,i=M(this,w);r<n;){let t;if(M(this,l)&&(T(this,l,!1),i[0]=M(this,o),i[16]=i[1]=i[2]=i[3]=i[4]=i[5]=i[6]=i[7]=i[8]=i[9]=i[10]=i[11]=i[12]=i[13]=i[14]=i[15]=0),"string"!=typeof e)for(t=M(this,d);r<n&&t<64;++r)i[t>>2]|=e[r]<<g[3&t++];else for(t=M(this,d);r<n&&t<64;++r){var s=e.charCodeAt(r);s<128?i[t>>2]|=s<<g[3&t++]:(s<2048?i[t>>2]|=(192|s>>6)<<g[3&t++]:(s<55296||57344<=s?i[t>>2]|=(224|s>>12)<<g[3&t++]:(s=65536+((1023&s)<<10|1023&e.charCodeAt(++r)),i[t>>2]|=(240|s>>18)<<g[3&t++],i[t>>2]|=(128|s>>12&63)<<g[3&t++]),i[t>>2]|=(128|s>>6&63)<<g[3&t++]),i[t>>2]|=(128|63&s)<<g[3&t++])}T(this,h,t),T(this,a,M(this,a)+(t-M(this,d))),64<=t?(T(this,o,i[16]),T(this,d,t-64),this.hash(),T(this,l,!0)):T(this,d,t)}4294967295<M(this,a)&&(T(this,u,M(this,u)+(M(this,a)/4294967296<<0)),T(this,a,M(this,a)%4294967296))}return this}finalize(){var t,e;M(this,c)||(T(this,c,!0),t=M(this,w),e=M(this,h),t[16]=M(this,o),t[e>>2]|=i[3&e],T(this,o,t[16]),56<=e&&(M(this,l)||this.hash(),t[0]=M(this,o),t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=M(this,u)<<3|M(this,a)>>>29,t[15]=M(this,a)<<3,this.hash())}hash(){let e=M(this,k),r=M(this,S),n=M(this,E),i=M(this,A),s=M(this,x),o=M(this,C),a=M(this,O),c=M(this,D);var l,u,h=M(this,w);let d,f,g,p,m,b,v,y;for(let t=16;t<64;++t)p=h[t-15],d=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,p=h[t-2],f=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,h[t]=h[t-16]+d+h[t-7]+f<<0;y=r&n;for(let t=0;t<64;t+=4)M(this,_)?(i=M(this,I)?(v=300032,p=h[0]-1413257819,c=p-150054599<<0,p+24177077<<0):(v=704751109,p=h[0]-210244248,c=p-1521486534<<0,p+143694565<<0),T(this,_,!1)):(d=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),f=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),v=e&r,g=v^e&n^y,b=s&o^~s&a,p=c+f+b+j[t]+h[t],m=d+g,c=i+p<<0,i=p+m<<0),d=(i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10),f=(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7),l=i&e,g=l^i&r^v,b=c&s^~c&o,p=a+f+b+j[t+1]+h[t+1],m=d+g,a=n+p<<0,n=p+m<<0,d=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),f=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),u=n&i,g=u^n&e^l,b=a&c^~a&s,p=o+f+b+j[t+2]+h[t+2],m=d+g,o=r+p<<0,r=p+m<<0,d=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),f=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),y=r&n,g=y^r&i^u,b=o&a^~o&c,p=s+f+b+j[t+3]+h[t+3],m=d+g,s=e+p<<0,e=p+m<<0;T(this,k,M(this,k)+e<<0),T(this,S,M(this,S)+r<<0),T(this,E,M(this,E)+n<<0),T(this,A,M(this,A)+i<<0),T(this,x,M(this,x)+s<<0),T(this,C,M(this,C)+o<<0),T(this,O,M(this,O)+a<<0),T(this,D,M(this,D)+c<<0)}hex(){this.finalize();var t=M(this,k),e=M(this,S),r=M(this,E),n=M(this,A),i=M(this,x),s=M(this,C),o=M(this,O),a=M(this,D);let c=f[t>>28&15]+f[t>>24&15]+f[t>>20&15]+f[t>>16&15]+f[t>>12&15]+f[t>>8&15]+f[t>>4&15]+f[15&t]+f[e>>28&15]+f[e>>24&15]+f[e>>20&15]+f[e>>16&15]+f[e>>12&15]+f[e>>8&15]+f[e>>4&15]+f[15&e]+f[r>>28&15]+f[r>>24&15]+f[r>>20&15]+f[r>>16&15]+f[r>>12&15]+f[r>>8&15]+f[r>>4&15]+f[15&r]+f[n>>28&15]+f[n>>24&15]+f[n>>20&15]+f[n>>16&15]+f[n>>12&15]+f[n>>8&15]+f[n>>4&15]+f[15&n]+f[i>>28&15]+f[i>>24&15]+f[i>>20&15]+f[i>>16&15]+f[i>>12&15]+f[i>>8&15]+f[i>>4&15]+f[15&i]+f[s>>28&15]+f[s>>24&15]+f[s>>20&15]+f[s>>16&15]+f[s>>12&15]+f[s>>8&15]+f[s>>4&15]+f[15&s]+f[o>>28&15]+f[o>>24&15]+f[o>>20&15]+f[o>>16&15]+f[o>>12&15]+f[o>>8&15]+f[o>>4&15]+f[15&o];return M(this,I)||(c+=f[a>>28&15]+f[a>>24&15]+f[a>>20&15]+f[a>>16&15]+f[a>>12&15]+f[a>>8&15]+f[a>>4&15]+f[15&a]),c}toString(){return this.hex()}digest(){this.finalize();var t=M(this,k),e=M(this,S),r=M(this,E),n=M(this,A),i=M(this,x),s=M(this,C),o=M(this,O),a=M(this,D),t=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,s>>24&255,s>>16&255,s>>8&255,255&s,o>>24&255,o>>16&255,o>>8&255,255&o];return M(this,I)||t.push(a>>24&255,a>>16&255,a>>8&255,255&a),t}array(){return this.digest()}arrayBuffer(){this.finalize();var t=new ArrayBuffer(M(this,I)?28:32),e=new DataView(t);return e.setUint32(0,M(this,k)),e.setUint32(4,M(this,S)),e.setUint32(8,M(this,E)),e.setUint32(12,M(this,A)),e.setUint32(16,M(this,x)),e.setUint32(20,M(this,C)),e.setUint32(24,M(this,O)),M(this,I)||e.setUint32(28,M(this,D)),t}}function m(t){var e=new p;return e.update(t),parseInt(e.hex().substring(0,8),16)}o=new WeakMap,w=new WeakMap,a=new WeakMap,c=new WeakMap,_=new WeakMap,k=new WeakMap,S=new WeakMap,E=new WeakMap,A=new WeakMap,x=new WeakMap,C=new WeakMap,O=new WeakMap,D=new WeakMap,l=new WeakMap,u=new WeakMap,I=new WeakMap,h=new WeakMap,d=new WeakMap;class b{constructor(t={}){var[e,r]=[t.lightness,t.saturation].map(function(t){return t=void 0!==t?t:[.35,.5,.65],Array.isArray(t)?t.concat():[t]});this.L=e,this.S=r,"number"==typeof t.hue&&(t.hue={min:t.hue,max:t.hue}),"object"!=typeof t.hue||Array.isArray(t.hue)||(t.hue=[t.hue]),void 0===t.hue&&(t.hue=[]),this.hueRanges=t.hue.map(function(t){return{min:void 0===t.min?0:t.min,max:void 0===t.max?360:t.max}}),this.hash=m,"function"==typeof t.hash&&(this.hash=t.hash),"bkdr"===t.hash&&(this.hash=n)}hsl(t){var e,r,t=this.hash(t);return r=this.hueRanges.length?(r=this.hueRanges[t%this.hueRanges.length],t/this.hueRanges.length%727*(r.max-r.min)/727+r.min):t%359,t=Math.ceil(t/360),e=this.S[t%this.S.length],t=Math.ceil(t/this.S.length),[r,e,this.L[t%this.L.length]]}rgb(t){t=this.hsl(t);return function(t,e,r){var n=r<.5?r*(1+e):r+e-r*e,i=2*r-n;return[(t/=360)+1/3,t,t-1/3].map(function(t){return t<0&&t++,1<t&&t--,t=t<1/6?i+6*(n-i)*t:t<.5?n:t<2/3?i+6*(n-i)*(2/3-t):i,Math.round(255*t)})}.apply(this,t)}hex(t){var e,t=this.rgb(t);return e="#",t.forEach(function(t){t<16&&(e+=0),e+=t.toString(16)}),e}}},function(t,r,c){"use strict";!function(u){c.d(r,"a",function(){return e});var h=c(40),d=c(20),f=c(1),o=c(2),g=c(51),s=c(145),p=c(35),t=c(49),n=c(5),m=c(146);const b=[],a=(b[0]=(t,e,r,n,i)=>{f.p(t,0);e=g.b(e,t,r.doc,r);n&&e===g.a&&!r.synced&&(r.synced=!0)},b[3]=(t,e,r,n,i)=>{f.p(t,1),f.q(t,p.c(r.awareness,Array.from(r.awareness.getStates().keys())))},b[1]=(t,e,r,n,i)=>{p.b(r.awareness,o.l(e),r)},b[2]=(t,e,r,n,i)=>{s.a(e,r.doc,(t,e)=>a(r,e))},(t,e)=>console.warn(`Permission denied to access ${t.url}.
`+e)),v=(t,e,r)=>{var e=o.e(e),n=f.e(),i=o.k(e),s=t.messageHandlers[i];return s?s(n,e,t,r,i):console.error("Unable to compute message"),n},i=e=>{if(e.shouldConnect&&null===e.ws){const r=new e._WS(e.url);r.binaryType="arraybuffer",e.ws=r,e.wsconnecting=!0,e.wsconnected=!1,e.synced=!1,r.onmessage=t=>{e.wsLastMessageReceived=d.a();t=v(e,new Uint8Array(t.data),!0);1<f.g(t)&&r.send(f.h(t))},r.onerror=t=>{e.emit("connection-error",[t,e])},r.onclose=t=>{e.emit("connection-close",[t,e]),e.ws=null,e.wsconnecting=!1,e.wsconnected?(e.wsconnected=!1,e.synced=!1,p.d(e.awareness,Array.from(e.awareness.getStates().keys()).filter(t=>t!==e.doc.clientID),e),e.emit("status",[{status:"disconnected"}])):e.wsUnsuccessfulReconnects++,setTimeout(i,n.h(100*n.i(2,e.wsUnsuccessfulReconnects),e.maxBackoffTime),e)},r.onopen=()=>{e.wsLastMessageReceived=d.a(),e.wsconnecting=!1,e.wsconnected=!0,e.wsUnsuccessfulReconnects=0,e.emit("status",[{status:"connected"}]);var t=f.e();f.p(t,0),g.c(t,e.doc),r.send(f.h(t)),null!==e.awareness.getLocalState()&&(t=f.e(),f.p(t,1),f.q(t,p.c(e.awareness,[e.doc.clientID])),r.send(f.h(t)))},e.emit("status",[{status:"connecting"}])}},y=(t,e)=>{var r=t.ws;t.wsconnected&&r&&r.readyState===r.OPEN&&r.send(e),t.bcconnected&&h.a(t.bcChannel,e,t)};class e extends t.a{constructor(t,e,r,{connect:n=!0,awareness:i=new p.a(r),params:s={},WebSocketPolyfill:o=WebSocket,resyncInterval:a=-1,maxBackoffTime:c=2500,disableBc:l=!1}={}){for(super();"/"===t[t.length-1];)t=t.slice(0,t.length-1);s=m.a(s);this.maxBackoffTime=c,this.bcChannel=t+"/"+e,this.url=t+"/"+e+(0===s.length?"":"?"+s),this.roomname=e,this.doc=r,this._WS=o,this.awareness=i,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.disableBc=l,this.wsUnsuccessfulReconnects=0,this.messageHandlers=b.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=n,(this._resyncInterval=0)<a&&(this._resyncInterval=setInterval(()=>{var t;this.ws&&this.ws.readyState===WebSocket.OPEN&&(t=f.e(),f.p(t,0),g.c(t,r),this.ws.send(f.h(t)))},a)),this._bcSubscriber=(t,e)=>{e!==this&&(e=v(this,new Uint8Array(t),!1),1<f.g(e))&&h.a(this.bcChannel,f.h(e),this)},this._updateHandler=(t,e)=>{e!==this&&(e=f.e(),f.p(e,0),g.e(e,t),y(this,f.h(e)))},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:t,updated:e,removed:r},n)=>{t=t.concat(e).concat(r),e=f.e();f.p(e,1),f.q(e,p.c(i,t)),y(this,f.h(e))},this._unloadHandler=()=>{p.d(this.awareness,[r.clientID],"window unload")},"undefined"!=typeof window?window.addEventListener("unload",this._unloadHandler):void 0!==u&&u.on("exit",this._unloadHandler),i.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{this.wsconnected&&3e4<d.a()-this.wsLastMessageReceived&&this.ws.close()},3e3),n&&this.connect()}get synced(){return this._synced}set synced(t){this._synced!==t&&(this._synced=t,this.emit("synced",[t]),this.emit("sync",[t]))}destroy(){0!==this._resyncInterval&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),"undefined"!=typeof window?window.removeEventListener("unload",this._unloadHandler):void 0!==u&&u.off("exit",this._unloadHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){var t;this.disableBc||(this.bcconnected||(h.b(this.bcChannel,this._bcSubscriber),this.bcconnected=!0),t=f.e(),f.p(t,0),g.c(t,this.doc),h.a(this.bcChannel,f.h(t),this),t=f.e(),f.p(t,0),g.d(t,this.doc),h.a(this.bcChannel,f.h(t),this),t=f.e(),f.p(t,3),h.a(this.bcChannel,f.h(t),this),t=f.e(),f.p(t,1),f.q(t,p.c(this.awareness,[this.doc.clientID])),h.a(this.bcChannel,f.h(t),this))}disconnectBc(){var t=f.e();f.p(t,1),f.q(t,p.c(this.awareness,[this.doc.clientID],new Map)),y(this,f.h(t)),this.bcconnected&&(h.c(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),null!==this.ws&&this.ws.close()}connect(){this.shouldConnect=!0,this.wsconnected||null!==this.ws||(i(this),this.connectBc())}}}.call(this,c(18))},function(t,e,r){"use strict";r.d(e,"a",function(){return i});r(1);var n=r(2);const i=(t,e,r)=>{0===n.k(t)&&r(e,n.j(t))}},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(29);const i=t=>n.g(t,(t,e)=>encodeURIComponent(e)+"="+encodeURIComponent(t)).join("&")},,,,,function(t,e,r){"use strict";r.r(e);var i,e=r(142),n=r(34),c=r.n(n),n=(r(0),wp.i18n.__,wp.data),s=n.registerStore,o=(n.useSelect,n.select),r=(n.dispatch,wp.hooks.addFilter,wp.richText),a=r.registerFormatType,l=r.applyFormat,n=(wp.components.Tooltip,window.addEventListener("load",function(t){var e=setInterval(function(){var t;(null==(t=o("core/editor").getEditedPostAttribute("meta"))?void 0:t._is_real_time_mode)&&(i=o("core").getCurrentUser(),clearInterval(e))},1e3)}),function(){s("multiedit/block-collab/add-block-selections",{reducer:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0;return"SET_ADD_BLOCK_SELECTIONS_STATE"===e.type?e.state:t},selectors:{getState:function(t){return t}},actions:{setState:function(t){return{type:"SET_ADD_BLOCK_SELECTIONS_STATE",state:t}}}}),a("multiedit/block-collab-add-block-selections",{title:"Peer Caret",tagName:"mark",className:"block-collab-add-block-selections--caret",attributes:{id:"id",className:"class",style:"style"},edit:function(){return null},__experimentalGetPropsForEditableTreePreparation:function(t,e){var r=e.richTextIdentifier,n=e.blockClientId;return{peers:Object.values(t("multiedit/block-collab/add-block-selections").getState()).filter(function(t){return t.attributeKey===r&&t.blockUID===n&&t.username!==i.name}).map(function(t){return{peerId:t.peerId,selectionStartOffset:t.selectionStart,selectionEndOffset:t.selectionEnd,color:t.color,peerUsername:t.username}})}},__experimentalCreatePrepareEditableTree:function(t){var r=t.peers;return function(t,e){return r.reduce(function(t,e){var r=e.peerId,n=e.selectionStartOffset,i=e.selectionEndOffset,s=e.color,e=e.peerUsername,o=n===i,a=o&&i>=t.text.length;return a&&(n=t.text.length-1),o&&(i=n+1),0===t.text.length&&(n=0,i=1),l(t,{type:"multiedit/block-collab-add-block-selections",attributes:{id:"block-collab-add-block-selections--caret_".concat(r),class:c()({"is-collapsed":o,"is-at-end":a}),style:"background-color: ".concat(s,";"),dataname:e}},n,i)},{formats:t,text:e}).formats}}})}),r=wp.hooks.addFilter;cf_multiedit.cf_multiedit_websocket&&(n(),r("editor.BlockEdit","md/block-extend-controls-ystore",e.a))}]);